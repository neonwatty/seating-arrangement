import{g as f,c as v,j as a,A as N,a as x}from"./index-Ch-N2Ac2.js";import{a as C}from"./dnd-kit-CqfYIfUh.js";import{g as I}from"./groupColors-DijypUJV.js";function G({guest:s,compact:j,isDragging:c,onClick:o}){const{attributes:l,listeners:d,setNodeRef:p,transform:r}=C({id:s.id,data:{type:"guest",guest:s}}),m=r?{transform:`translate(${r.x}px, ${r.y}px)`}:void 0,y=f(s),h=()=>{switch(s.rsvpStatus){case"confirmed":return"var(--color-success)";case"declined":return"var(--color-error)";default:return"var(--color-warning)"}},i=I(s.group),t=v(s.dietaryRestrictions),u=t.length>0,n=s.accessibilityNeeds&&s.accessibilityNeeds.length>0,g=()=>{const e=[x(s)];return s.company&&e.push(s.company),s.group&&e.push(`Group: ${s.group}`),s.dietaryRestrictions?.length&&e.push(`Diet: ${s.dietaryRestrictions.join(", ")}`),s.accessibilityNeeds?.length&&e.push(`Accessibility: ${s.accessibilityNeeds.join(", ")}`),e.join(`
`)};return j?a.jsxs("div",{ref:p,className:`guest-chip compact ${c?"dragging":""}`,style:{...m,...i?{borderColor:i}:{}},title:g(),onClick:o,...l,...d,children:[a.jsx("span",{className:"initials",children:y}),a.jsx("span",{className:"status-dot",style:{backgroundColor:h()}}),i&&a.jsx("span",{className:"group-indicator",style:{backgroundColor:i}}),(u||n)&&a.jsx("span",{className:"dietary-indicator",children:t[0]||N})]}):a.jsxs("div",{ref:p,className:`guest-chip ${c?"dragging":""} ${s.tableId?"assigned":""} ${i?"has-group":""}`,style:{...m,...i?{"--group-color":i}:{}},title:g(),onClick:o,...l,...d,children:[a.jsx("div",{className:"guest-avatar",style:{backgroundColor:h()},children:y}),a.jsxs("div",{className:"guest-info",children:[a.jsx("span",{className:"guest-name",children:x(s)}),s.company&&a.jsx("span",{className:"guest-company",children:s.company}),a.jsxs("div",{className:"guest-tags",children:[s.group&&a.jsx("span",{className:"guest-group",style:{backgroundColor:i||void 0},children:s.group}),(u||n)&&a.jsxs("span",{className:"guest-dietary-tags",children:[t.slice(0,2).map((e,b)=>a.jsx("span",{className:"dietary-icon-inline",children:e},b)),n&&a.jsx("span",{className:"accessibility-icon-inline",children:N})]})]})]}),s.tableId&&a.jsx("span",{className:"assigned-badge",title:"Assigned to table",children:"âœ“"})]})}export{G};
