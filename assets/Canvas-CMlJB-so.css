.table-component{position:absolute;cursor:grab;user-select:none;transition:box-shadow var(--duration-normal) var(--ease-bounce),border-color var(--duration-normal) var(--ease-bounce),opacity var(--duration-normal) var(--ease-bounce)}.table-component:active{cursor:grabbing}.table-component.dragging{opacity:.9;z-index:100;transition:none}.table-component.selected{z-index:10}.table-component.selected .table-surface{box-shadow:0 0 0 4px var(--color-primary),var(--shadow-lg)}.table-component.selected:after{content:"";position:absolute;inset:-10px;border:2px dashed var(--color-primary-light);border-radius:inherit;pointer-events:none;animation:selectedPulse 2s ease-in-out infinite}@keyframes selectedPulse{0%,to{opacity:.5}50%{opacity:1}}.table-component.drop-target .table-surface{box-shadow:0 0 0 4px var(--color-success),0 0 20px #4ade804d;background:#4ade801a;animation:pulse 1s ease-in-out infinite}.table-surface{width:100%;height:100%;background:linear-gradient(145deg,var(--color-bg) 0%,var(--color-bg-secondary) 100%);border:3px solid var(--color-border);display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow-lg);transition:all var(--duration-normal) var(--ease-out)}.table-surface:hover{border-color:var(--color-primary);box-shadow:var(--shadow-xl)}.table-component.round .table-surface{border-radius:50%}.table-component.rectangle .table-surface,.table-component.square .table-surface{border-radius:var(--radius-xl)}.table-component.oval .table-surface{border-radius:50%}.table-component.half-round .table-surface{border-radius:0 0 50% 50%/0 0 100% 100%}.table-component.serpentine .table-surface{border-radius:var(--radius-xl);background:linear-gradient(90deg,var(--color-bg) 0%,var(--color-bg-secondary) 25%,var(--color-bg) 50%,var(--color-bg-secondary) 75%,var(--color-bg) 100%)}.table-label{display:flex;flex-direction:column;align-items:center;gap:.375rem;font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);pointer-events:none}.table-name-input{width:90px;text-align:center;padding:.375rem .5rem;border:2px solid var(--color-border);border-radius:var(--radius-md);font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);pointer-events:auto;background:var(--color-bg);transition:all var(--duration-fast) var(--ease-out)}.table-name-input:focus{border-color:var(--color-primary);box-shadow:var(--shadow-sm)}.table-count{font-size:var(--font-size-xs);color:var(--color-text-secondary);font-weight:var(--font-weight-medium);background:var(--color-bg-secondary);padding:.25rem .5rem;border-radius:var(--radius-full)}.seat{position:absolute;width:48px;height:48px;display:flex;align-items:center;justify-content:center;transition:all var(--duration-normal) var(--ease-bounce)}.seat:hover{transform:scale(1.1)}.table-delete{position:absolute;top:-14px;right:-14px;width:28px;height:28px;border-radius:var(--radius-full);border:none;background:linear-gradient(135deg,var(--color-error) 0%,#dc2626 100%);color:#fff;font-size:var(--font-size-base);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all var(--duration-normal) var(--ease-bounce);box-shadow:var(--shadow-md);opacity:0;transform:scale(.8)}.table-component:hover .table-delete{opacity:1;transform:scale(1)}.table-delete:hover{transform:scale(1.15)!important;box-shadow:var(--shadow-lg)}.table-component.snap-target .table-surface{box-shadow:0 0 0 4px var(--color-success),0 0 24px #4ade8066;border-color:var(--color-success)}.seat-guest{position:relative;cursor:grab;transition:transform var(--duration-normal) var(--ease-bounce)}.seat-guest:active{cursor:grabbing}@media(pointer:coarse){.seat-guest:before{content:"";position:absolute;inset:-4px;border-radius:50%;border:2px solid transparent;pointer-events:none;z-index:-1}.seat-guest:active:before{animation:longPressRing .2s ease-out forwards}@keyframes longPressRing{0%{border-color:transparent;transform:scale(.8);opacity:0}to{border-color:var(--color-primary);transform:scale(1);opacity:1}}}.seat-guest.dragging{opacity:.5;z-index:1000}.seat-guest.dimmed{opacity:.25;pointer-events:none}.seat-guest.optimized{animation:optimizedPulse 1.2s ease-out}.seat-guest.optimized .seat-guest-circle{animation:optimizedGlow 1.2s ease-out}@keyframes optimizedPulse{0%{transform:scale(.3);opacity:0}30%{transform:scale(1.2);opacity:1}50%{transform:scale(.95)}70%{transform:scale(1.05)}to{transform:scale(1)}}@keyframes optimizedGlow{0%,to{box-shadow:var(--shadow-sm)}30%,50%{box-shadow:0 0 20px #8b5cf699,0 0 40px #8b5cf64d}}.seat-guest-circle{width:44px;height:44px;border-radius:50%;background:linear-gradient(135deg,var(--color-primary) 0%,var(--color-secondary) 100%);border:2px solid var(--color-bg);display:flex;align-items:center;justify-content:center;color:#fff;font-size:var(--font-size-sm);font-weight:var(--font-weight-bold);box-shadow:var(--shadow-sm);transition:transform var(--duration-normal) var(--ease-bounce),box-shadow var(--duration-normal) var(--ease-out)}.seat-guest:hover .seat-guest-circle{transform:scale(1.15);box-shadow:var(--shadow-md)}.seat-guest .status-dot{position:absolute;top:-2px;right:-2px;width:10px;height:10px;border-radius:50%;border:2px solid var(--color-bg)}.seat-guest .initials{text-transform:uppercase}.seat-guest .dietary-icon{position:absolute;bottom:-4px;left:-4px;font-size:10px;background:var(--color-bg);border-radius:50%;width:16px;height:16px;display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow-sm)}.seat-guest .accessibility-icon{position:absolute;bottom:-4px;right:-4px;font-size:10px;background:var(--color-info-light);border-radius:50%;width:16px;height:16px;display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow-sm)}.seat-guest .group-dot{position:absolute;top:-4px;left:-4px;width:12px;height:12px;border-radius:50%;border:2px solid var(--color-bg);box-shadow:var(--shadow-sm)}.seat-guest.has-group .seat-guest-circle{border-style:solid}.capacity-ring{z-index:-1}.capacity-progress{stroke:var(--color-success);transition:stroke-dashoffset var(--duration-slow) var(--ease-out),stroke var(--duration-normal)}.capacity-nearly-full .capacity-progress,.table-count.nearly-full{stroke:var(--color-warning)}.capacity-full .capacity-progress{stroke:var(--color-success)}.capacity-over .capacity-progress{stroke:var(--color-error)}.table-count.available{color:var(--color-text-secondary)}.table-count.nearly-full{color:#78350f;background:var(--color-warning-light)}.table-count.full{color:var(--color-success);background:var(--color-success-light);font-weight:var(--font-weight-semibold)}.table-count.over{color:var(--color-error);background:var(--color-error-light);font-weight:var(--font-weight-bold);animation:pulse 1s ease-in-out infinite}.table-component.capacity-full .table-surface{border-color:var(--color-success)}.table-component.capacity-over .table-surface{border-color:var(--color-error);animation:shake .5s ease-in-out}@keyframes shake{0%,to{transform:translate(0)}25%{transform:translate(-3px)}75%{transform:translate(3px)}}.table-component.has-violations .table-surface{box-shadow:0 0 0 3px var(--color-warning),var(--shadow-md)}.table-component.has-required-violations .table-surface{box-shadow:0 0 0 3px var(--color-error),var(--shadow-md);animation:violationPulse 2s ease-in-out infinite}@keyframes violationPulse{0%,to{box-shadow:0 0 0 3px var(--color-error),var(--shadow-md)}50%{box-shadow:0 0 0 3px var(--color-error),0 0 16px #f8717180}}.violation-badge{position:absolute;top:-12px;left:-12px;padding:.25rem .5rem;border-radius:var(--radius-full);font-size:var(--font-size-xs);font-weight:var(--font-weight-bold);display:flex;align-items:center;gap:.25rem;cursor:help;z-index:20;animation:popIn var(--duration-normal) var(--ease-spring)}.violation-badge.preferred{background:var(--color-warning);color:#78350f}.violation-badge.required{background:var(--color-error);color:#fff}.violation-badge:hover{transform:scale(1.1)}.seat-guest.swap-target{z-index:50}.seat-guest.swap-target .seat-guest-circle{box-shadow:0 0 0 4px var(--color-info),0 0 16px #3b82f680;animation:swapPulse 1s ease-in-out infinite;transform:scale(1.15)}@keyframes swapPulse{0%,to{box-shadow:0 0 0 4px var(--color-info),0 0 16px #3b82f680}50%{box-shadow:0 0 0 6px var(--color-info),0 0 24px #3b82f6b3}}.swap-icon{position:absolute;top:-20px;left:50%;transform:translate(-50%);background:var(--color-info);color:#fff;padding:.125rem .375rem;border-radius:var(--radius-md);font-size:var(--font-size-xs);font-weight:var(--font-weight-bold);white-space:nowrap;box-shadow:var(--shadow-md);animation:popIn var(--duration-normal) var(--ease-spring);z-index:100}.availability-indicator{position:absolute;bottom:-32px;left:50%;transform:translate(-50%);background:var(--color-success);color:#fff;padding:.375rem .75rem;border-radius:var(--radius-full);font-size:var(--font-size-xs);font-weight:var(--font-weight-bold);white-space:nowrap;box-shadow:var(--shadow-md);animation:popIn var(--duration-fast) var(--ease-out);z-index:100}.availability-indicator.full{background:var(--color-error)}.table-dietary-summary{position:absolute;bottom:8px;right:8px;display:flex;align-items:center;gap:.25rem;padding:.25rem .5rem;background:var(--color-bg);border-radius:var(--radius-full);font-size:var(--font-size-xs);box-shadow:var(--shadow-sm);cursor:help;opacity:.7;transition:opacity var(--duration-fast) var(--ease-out);z-index:5;border:1px solid var(--color-border-light)}.table-component:hover .table-dietary-summary{opacity:1}.dietary-summary-icon{font-size:12px}.dietary-summary-count{font-weight:var(--font-weight-bold);color:var(--color-text-secondary)}.table-component.newly-added{animation:newTablePulse 1.5s ease-out}.table-component.newly-added .table-surface{animation:newTableGlow 1.5s ease-out}@keyframes newTablePulse{0%{transform:scale(.5);opacity:0}20%{transform:scale(1.05);opacity:1}40%{transform:scale(.98)}60%{transform:scale(1.02)}to{transform:scale(1)}}@keyframes newTableGlow{0%{box-shadow:0 0 #f97066b3,var(--shadow-lg)}50%{box-shadow:0 0 0 20px #f9706600,var(--shadow-xl)}to{box-shadow:var(--shadow-lg)}}.canvas-guest{position:absolute;display:flex;flex-direction:column;align-items:center;cursor:grab;user-select:none;transform:translate(-50%,-50%);transition:filter var(--duration-normal) var(--ease-out);z-index:5}.canvas-guest:active{cursor:grabbing}@media(pointer:coarse){.canvas-guest:after{content:"";position:absolute;inset:-6px;border-radius:50%;border:2px solid transparent;pointer-events:none;z-index:-1}.canvas-guest:active:after{animation:longPressRingCanvas .2s ease-out forwards}@keyframes longPressRingCanvas{0%{border-color:transparent;transform:scale(.8);opacity:0}to{border-color:var(--color-primary);transform:scale(1);opacity:1}}}.canvas-guest.dragging{z-index:1000;opacity:.8;filter:drop-shadow(0 8px 16px rgba(0,0,0,.2))}.canvas-guest.dimmed{opacity:.25;pointer-events:none}.canvas-guest.selected .canvas-guest-circle{box-shadow:0 0 0 4px var(--color-primary),var(--shadow-lg)}.canvas-guest.near-table .canvas-guest-circle{box-shadow:0 0 0 4px var(--color-success),0 0 20px #4ade8066}.canvas-guest-circle{width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,var(--color-primary) 0%,var(--color-secondary) 100%);border:3px solid var(--color-bg);display:flex;align-items:center;justify-content:center;color:#fff;font-size:var(--font-size-sm);font-weight:var(--font-weight-bold);box-shadow:var(--shadow-md);transition:transform var(--duration-normal) var(--ease-bounce),box-shadow var(--duration-normal) var(--ease-out)}.canvas-guest:hover .canvas-guest-circle{transform:scale(1.1);box-shadow:var(--shadow-lg)}.canvas-guest .status-dot{position:absolute;top:0;right:0;width:14px;height:14px;border-radius:50%;border:2px solid var(--color-bg)}.canvas-guest .dietary-icon{position:absolute;bottom:0;left:0;font-size:12px;background:var(--color-bg);border-radius:50%;width:18px;height:18px;display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow-sm);border:2px solid var(--color-bg)}.canvas-guest .accessibility-icon{position:absolute;bottom:0;right:0;font-size:12px;background:var(--color-info-light);border-radius:50%;width:18px;height:18px;display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow-sm);border:2px solid var(--color-bg)}.canvas-guest-label{margin-top:4px;font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);color:var(--color-text);background:var(--color-bg);padding:2px 8px;border-radius:var(--radius-full);white-space:nowrap;max-width:100px;overflow:hidden;text-overflow:ellipsis;opacity:0;transform:translateY(-4px);transition:opacity var(--duration-fast) var(--ease-out),transform var(--duration-fast) var(--ease-out);box-shadow:var(--shadow-sm)}.canvas-guest:hover .canvas-guest-label,.canvas-guest.selected .canvas-guest-label{opacity:1;transform:translateY(0)}.canvas-guest-overlay{display:flex;flex-direction:column;align-items:center;pointer-events:none}.canvas-guest-overlay .canvas-guest-circle{width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,var(--color-primary) 0%,var(--color-secondary) 100%);border:3px solid var(--color-bg);display:flex;align-items:center;justify-content:center;color:#fff;font-size:var(--font-size-sm);font-weight:var(--font-weight-bold);box-shadow:0 8px 24px #00000040;transform:scale(1.1)}.canvas-guest.newly-added{animation:newGuestPulse 1.5s ease-out}.canvas-guest.newly-added .canvas-guest-circle{animation:newGuestGlow 1.5s ease-out}@keyframes newGuestPulse{0%{transform:translate(-50%,-50%) scale(.5);opacity:0}20%{transform:translate(-50%,-50%) scale(1.15);opacity:1}40%{transform:translate(-50%,-50%) scale(.95)}60%{transform:translate(-50%,-50%) scale(1.05)}to{transform:translate(-50%,-50%) scale(1)}}@keyframes newGuestGlow{0%{box-shadow:0 0 #f97066b3,var(--shadow-md)}50%{box-shadow:0 0 0 20px #f9706600,var(--shadow-lg)}to{box-shadow:var(--shadow-md)}}.qr-modal-overlay{z-index:10000}.qr-modal{background:var(--color-bg);border-radius:var(--radius-xl);width:400px;max-width:95vw;box-shadow:var(--shadow-lg);animation:modalSlideUp var(--duration-slow) var(--ease-spring)}@keyframes modalSlideUp{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.qr-modal-header{display:flex;align-items:center;justify-content:space-between;padding:1.25rem 1.5rem;border-bottom:1px solid var(--color-border)}.qr-modal-header h2{margin:0;font-size:1.125rem;font-weight:600}.qr-modal-header .close-btn{display:flex;align-items:center;justify-content:center;width:32px;height:32px;padding:0;background:transparent;border:none;border-radius:var(--radius-md);color:var(--color-text-secondary);cursor:pointer;transition:all var(--duration-fast)}.qr-modal-header .close-btn:hover{background:var(--color-bg-secondary);color:var(--color-text)}.qr-modal-content{padding:1.5rem;display:flex;flex-direction:column;align-items:center;gap:1.25rem}.qr-code-container{background:#fff;padding:1rem;border-radius:var(--radius-lg);box-shadow:var(--shadow-sm)}.qr-code-container svg{display:block}.qr-table-info{text-align:center}.qr-table-name{font-size:1.25rem;font-weight:600;color:var(--color-text);margin:0 0 .25rem}.qr-table-meta{font-size:.875rem;color:var(--color-text-secondary);margin:0}.qr-actions{display:flex;gap:.75rem;flex-wrap:wrap;justify-content:center}.qr-action-btn{display:flex;align-items:center;gap:.5rem;padding:.625rem 1rem;background:var(--color-bg-secondary);border:1px solid var(--color-border);border-radius:var(--radius-md);font-size:.875rem;font-weight:500;color:var(--color-text);cursor:pointer;transition:all var(--duration-fast)}.qr-action-btn:hover{background:var(--color-bg-tertiary, var(--color-border));border-color:var(--color-text-tertiary)}.qr-action-btn svg{color:var(--color-text-secondary)}.qr-hint{font-size:.75rem;color:var(--color-text-tertiary);text-align:center;margin:0}@media(max-width:480px){.qr-modal{width:100%;margin:1rem}.qr-actions{flex-direction:column;width:100%}.qr-action-btn{justify-content:center;width:100%}}.table-properties-panel{position:absolute;right:1rem;top:4rem;width:280px;background:var(--color-bg);border:1px solid var(--color-border);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);padding:1rem;z-index:100;animation:panelSlideIn var(--duration-normal) var(--ease-out)}@keyframes panelSlideIn{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.panel-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:.75rem;border-bottom:1px solid var(--color-border-light);gap:.5rem}.panel-title{flex:1;min-width:0}.panel-title h3{margin:0;font-size:var(--font-size-base);font-weight:var(--font-weight-bold);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.table-counter{font-size:var(--font-size-xs);color:var(--color-text-secondary);font-weight:var(--font-weight-medium)}.nav-btn{background:var(--color-bg-secondary);border:2px solid var(--color-border);border-radius:var(--radius-md);width:32px;height:32px;font-size:1.25rem;cursor:pointer;color:var(--color-text);display:flex;align-items:center;justify-content:center;transition:all var(--duration-fast);flex-shrink:0}.nav-btn:hover{border-color:var(--color-primary);background:var(--color-primary);color:#fff}.close-btn{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--color-text-secondary);padding:.25rem;line-height:1;border-radius:var(--radius-sm);transition:all var(--duration-fast);flex-shrink:0}.close-btn:hover{color:var(--color-text);background:var(--color-bg-secondary)}.quick-actions{display:flex;gap:.5rem;margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px solid var(--color-border-light)}.quick-action-btn{flex:1;display:flex;flex-direction:column;align-items:center;gap:.25rem;padding:.5rem;border:2px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-bg-secondary);color:var(--color-text);cursor:pointer;transition:all var(--duration-fast);min-height:44px}.quick-action-btn svg{flex-shrink:0}.quick-action-btn span{font-size:var(--font-size-xs);font-weight:var(--font-weight-medium)}.quick-action-btn:hover{border-color:var(--color-primary);background:var(--color-primary-light)}.quick-action-btn.delete{border-color:var(--color-error);color:var(--color-error)}.quick-action-btn.delete:hover{background:var(--color-error);color:#fff}.property-group{margin-bottom:1rem}.property-group label{display:block;font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:var(--letter-spacing-wide);margin-bottom:.5rem}.property-group>input[type=text],.property-group>input[type=number]{width:100%;padding:.5rem .75rem;border:2px solid var(--color-border);border-radius:var(--radius-md);font-size:var(--font-size-sm);transition:border-color var(--duration-fast);background:var(--color-bg-secondary);color:var(--color-text)}.property-group>input:focus{border-color:var(--color-primary);outline:none}.shape-selector{display:flex;flex-wrap:wrap;gap:.5rem}.shape-selector button{flex:1 1 calc(33.333% - .5rem);min-width:0;padding:.625rem;border:2px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-bg-secondary);color:var(--color-text);cursor:pointer;font-size:1.25rem;transition:all var(--duration-fast);min-height:44px}.shape-selector button:hover{border-color:var(--color-primary);background:var(--color-bg-hover)}.shape-selector button.active{border-color:var(--color-primary);background:var(--color-primary);color:#fff}.capacity-control{display:flex;align-items:center;gap:.5rem}.capacity-control button{width:44px;height:44px;border:2px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-bg-secondary);color:var(--color-text);font-size:1.25rem;cursor:pointer;transition:all var(--duration-fast);display:flex;align-items:center;justify-content:center;flex-shrink:0}.capacity-control button:hover:not(:disabled){border-color:var(--color-primary);background:var(--color-primary);color:#fff}.capacity-control button:disabled{opacity:.4;cursor:not-allowed}.capacity-control input{flex:1;min-width:50px;text-align:center;padding:.5rem;border:2px solid var(--color-border);border-radius:var(--radius-md);font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);background:var(--color-bg-secondary);color:var(--color-text);height:44px}.capacity-control input:focus{border-color:var(--color-primary);outline:none}.capacity-hint{display:block;font-size:var(--font-size-xs);color:var(--color-text-secondary);margin-top:.375rem}.size-presets{display:flex;gap:.5rem}.size-presets button{flex:1;padding:.5rem;border:2px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-bg-secondary);color:var(--color-text);font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);cursor:pointer;transition:all var(--duration-fast);min-height:44px}.size-presets button:hover{border-color:var(--color-primary);background:var(--color-primary);color:#fff}.dimension-inputs{display:flex;gap:.75rem}.dimension-inputs>div{flex:1;display:flex;align-items:center;gap:.5rem}.dimension-inputs span{font-size:var(--font-size-xs);color:var(--color-text-secondary);font-weight:var(--font-weight-semibold);min-width:16px}.dimension-inputs input{width:100%;padding:.5rem;border:2px solid var(--color-border);border-radius:var(--radius-md);font-size:var(--font-size-sm);text-align:center;background:var(--color-bg-secondary);color:var(--color-text);min-height:44px}.dimension-inputs input:focus{border-color:var(--color-primary);outline:none}.panel-actions{margin-top:1rem;padding-top:1rem;border-top:1px solid var(--color-border-light)}.delete-btn{width:100%;padding:.625rem;border:2px solid var(--color-error);border-radius:var(--radius-md);background:transparent;color:var(--color-error);font-weight:var(--font-weight-semibold);font-size:var(--font-size-sm);cursor:pointer;transition:all var(--duration-fast);min-height:44px}.delete-btn:hover{background:var(--color-error);color:#fff}.assigned-guests{margin-top:1rem;padding-top:1rem;border-top:1px solid var(--color-border-light)}.assigned-guests ul{margin:0;padding:0;list-style:none;max-height:150px;overflow-y:auto}.assigned-guests li{padding:.375rem 0;font-size:var(--font-size-sm);border-bottom:1px solid var(--color-border-light)}.assigned-guests li:last-child{border-bottom:none}.advanced-toggle{display:flex;justify-content:space-between;align-items:center;width:100%;padding:.75rem;margin-bottom:.5rem;border:2px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-bg-secondary);color:var(--color-text);font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);cursor:pointer;transition:all var(--duration-fast);min-height:44px}.advanced-toggle:hover{border-color:var(--color-primary)}.advanced-toggle .toggle-icon{transition:transform var(--duration-fast);font-size:1.25rem}.advanced-toggle .toggle-icon.open{transform:rotate(90deg)}.advanced-section{padding-top:.5rem;animation:fadeIn var(--duration-fast) var(--ease-out)}.table-panel-backdrop{position:fixed;inset:0;background:#00000080;z-index:99;animation:fadeInBackdrop var(--duration-normal) var(--ease-out)}@keyframes fadeInBackdrop{0%{opacity:0}to{opacity:1}}.panel-drag-handle{display:flex;justify-content:center;padding:.5rem 0 .75rem;cursor:grab;touch-action:none}.panel-drag-handle:active{cursor:grabbing}.drag-handle-bar{width:40px;height:4px;background:var(--color-border);border-radius:2px}@media(max-width:768px){.table-properties-panel.mobile{position:fixed;inset:auto 0 0;width:100%;border-radius:var(--radius-xl) var(--radius-xl) 0 0;max-height:70vh;overflow-y:auto;animation:panelSlideUp var(--duration-normal) var(--ease-out);padding:0 1rem 1rem;padding-bottom:calc(1rem + env(safe-area-inset-bottom,0));box-shadow:0 -4px 20px #00000026}@keyframes panelSlideUp{0%{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}.table-properties-panel.mobile .panel-header{position:sticky;top:0;background:var(--color-bg);padding-top:.5rem;margin-left:-1rem;margin-right:-1rem;padding-left:1rem;padding-right:1rem;z-index:1}.table-properties-panel.mobile .nav-btn{width:44px;height:44px}.table-properties-panel.mobile .close-btn{width:44px;height:44px;display:flex;align-items:center;justify-content:center}.table-properties-panel.mobile .quick-action-btn{min-height:56px;padding:.75rem .5rem}.table-properties-panel.mobile .quick-action-btn svg{width:24px;height:24px}.table-properties-panel.mobile .shape-selector button{min-height:48px;font-size:1.5rem}}@media(pointer:coarse){.nav-btn,.close-btn,.quick-action-btn,.shape-selector button,.capacity-control button,.size-presets button,.dimension-inputs input,.advanced-toggle,.delete-btn{min-height:44px}.capacity-control button,.shape-selector button{min-width:44px}}.canvas-search-overlay{position:fixed;inset:0;background:#00000080;display:flex;align-items:flex-start;justify-content:center;padding-top:15vh;z-index:1000;animation:fadeIn var(--duration-fast) var(--ease-out)}.canvas-search-modal{width:100%;max-width:500px;background:var(--color-bg);border-radius:var(--radius-xl);box-shadow:var(--shadow-xl);overflow:hidden;animation:slideDown var(--duration-normal) var(--ease-spring)}@keyframes slideDown{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.search-input-wrapper{display:flex;align-items:center;padding:1rem;border-bottom:1px solid var(--color-border-light);gap:.75rem}.search-icon{font-size:1.25rem;opacity:.5}.search-input-wrapper input{flex:1;border:none;outline:none;font-size:var(--font-size-lg);background:transparent}.search-input-wrapper input::placeholder{color:var(--color-text-secondary)}.shortcut-hint{font-size:var(--font-size-xs);padding:.25rem .5rem;background:var(--color-bg-secondary);border-radius:var(--radius-sm);color:var(--color-text-secondary)}.search-results{list-style:none;margin:0;padding:.5rem;max-height:320px;overflow-y:auto}.search-result{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;border-radius:var(--radius-md);cursor:pointer;transition:background var(--duration-fast)}.search-result:hover,.search-result.selected{background:var(--color-bg-hover)}.search-result.selected{background:var(--color-primary-light)}.result-icon{font-size:1.25rem;width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:var(--color-bg-secondary);border-radius:var(--radius-full)}.result-info{flex:1;display:flex;flex-direction:column;gap:.125rem}.result-name{font-weight:var(--font-weight-medium)}.result-subtitle{font-size:var(--font-size-sm);color:var(--color-text-secondary)}.result-type{font-size:var(--font-size-xs);text-transform:uppercase;color:var(--color-text-secondary);background:var(--color-bg-secondary);padding:.25rem .5rem;border-radius:var(--radius-sm)}.search-empty{padding:2rem;text-align:center;color:var(--color-text-secondary)}.search-footer{display:flex;justify-content:center;gap:1.5rem;padding:.75rem;background:var(--color-bg-secondary);font-size:var(--font-size-xs);color:var(--color-text-secondary)}.search-footer kbd{display:inline-block;padding:.125rem .375rem;background:var(--color-bg);border:1px solid var(--color-border);border-radius:var(--radius-sm);font-family:inherit;font-size:var(--font-size-xs);margin-right:.25rem}.canvas-minimap{position:absolute;bottom:1rem;right:1rem;z-index:50;background:var(--color-bg);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);overflow:hidden;border:2px solid var(--color-border);animation:fadeInUp var(--duration-normal) var(--ease-out)}@media(prefers-color-scheme:dark){.canvas-minimap{background:#2a2420;border-color:var(--color-primary)}}@keyframes fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.canvas-minimap svg{display:block;cursor:pointer}.minimap-table{transition:opacity var(--duration-fast)}.minimap-table:hover{opacity:1!important}.viewport-indicator{transition:stroke-dashoffset var(--duration-normal)}.minimap-label{display:flex;justify-content:space-between;padding:.5rem .75rem;font-size:var(--font-size-xs);color:var(--color-text-secondary);background:var(--color-bg-secondary);border-top:1px solid var(--color-border-light)}.minimap-tooltip{position:absolute;bottom:calc(100% + 8px);right:0;background:var(--color-text);color:var(--color-bg);padding:.5rem .75rem;border-radius:var(--radius-md);font-size:var(--font-size-xs);white-space:nowrap;display:flex;flex-direction:column;gap:.125rem;animation:fadeIn var(--duration-fast)}.minimap-tooltip:after{content:"";position:absolute;top:100%;right:1rem;border:6px solid transparent;border-top-color:var(--color-text)}.minimap-tooltip strong{font-weight:var(--font-weight-semibold)}.minimap-tooltip span{opacity:.8}@media(max-width:768px){.canvas-minimap{display:none}}.selection-toolbar{position:fixed;bottom:24px;left:50%;transform:translate(-50%);display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--color-bg);border:2px solid var(--color-border);border-radius:12px;box-shadow:0 8px 32px #00000026;z-index:1000;animation:slideUp .2s ease-out}@keyframes slideUp{0%{opacity:0;transform:translate(-50%) translateY(20px)}to{opacity:1;transform:translate(-50%) translateY(0)}}.selection-count{font-weight:600;color:var(--color-text);padding-right:12px;border-right:1px solid var(--color-border);white-space:nowrap}.selection-toolbar-dropdown{position:relative}.selection-toolbar-button{display:flex;align-items:center;gap:6px;padding:8px 14px;background:var(--color-primary);color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .15s ease}.selection-toolbar-button:hover{background:var(--color-primary-dark);transform:translateY(-1px)}.selection-toolbar-button.danger{background:var(--color-error)}.selection-toolbar-button.danger:hover{background:#c0392b}.selection-toolbar-button.clear{background:var(--color-bg-secondary);color:var(--color-text-secondary);padding:8px 10px;font-size:18px;line-height:1}.selection-toolbar-button.clear:hover{background:var(--color-border);color:var(--color-text)}.dropdown-arrow{font-size:10px;margin-left:2px}.selection-dropdown-menu{position:absolute;bottom:100%;left:0;margin-bottom:8px;min-width:200px;max-height:300px;overflow-y:auto;background:var(--color-bg);border:1px solid var(--color-border);border-radius:8px;box-shadow:0 4px 20px #00000026;animation:fadeIn .15s ease-out}@keyframes fadeIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.dropdown-item{display:flex;justify-content:space-between;align-items:center;width:100%;padding:10px 14px;background:none;border:none;font-size:14px;color:var(--color-text);cursor:pointer;transition:background .1s ease}.dropdown-item:hover{background:var(--color-bg-secondary)}.dropdown-item:first-child{border-radius:8px 8px 0 0}.dropdown-item:last-child{border-radius:0 0 8px 8px}.dropdown-item:only-child{border-radius:8px}.dropdown-item.warning{color:var(--color-warning)}.dropdown-item.warning:hover{background:#f39c121a}.seat-count{font-size:12px;color:var(--color-text-secondary);background:var(--color-bg-secondary);padding:2px 8px;border-radius:10px}.dropdown-empty{padding:16px;text-align:center;color:var(--color-text-secondary);font-size:14px}@media(max-width:768px){.selection-toolbar{bottom:80px;padding:10px 14px;gap:10px}.selection-toolbar-button{padding:10px 14px;min-height:44px}}@media(max-width:480px){.selection-toolbar{bottom:70px;left:12px;right:12px;transform:none;width:auto;max-width:none;justify-content:space-between}.selection-count{font-size:13px;padding-right:10px}.selection-toolbar-button{padding:10px 12px;font-size:13px}.selection-toolbar-button.clear{padding:10px}.selection-dropdown-menu{max-height:200px;min-width:180px}}.context-menu{position:fixed;z-index:2000;min-width:180px;background:var(--color-bg);border:1px solid var(--color-border);border-radius:8px;box-shadow:0 8px 32px #0003;padding:4px 0;animation:contextMenuFadeIn .12s ease-out}@keyframes contextMenuFadeIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.context-menu-item{display:flex;align-items:center;gap:10px;width:100%;padding:10px 14px;background:none;border:none;font-size:14px;color:var(--color-text);cursor:pointer;text-align:left;transition:background .1s ease}.context-menu-item:hover:not(.disabled){background:var(--color-bg-secondary)}.context-menu-item.disabled{opacity:.5;cursor:not-allowed}.context-menu-item.danger{color:var(--color-error)}.context-menu-item.danger:hover:not(.disabled){background:#e74c3c1a}.context-menu-icon{width:20px;text-align:center;font-size:14px}.context-menu-label{flex:1}.context-menu-divider{height:1px;background:var(--color-border);margin:4px 0}@media(pointer:coarse){.context-menu{min-width:220px;border-radius:12px;padding:6px 0}.context-menu-item{min-height:48px;padding:12px 16px;font-size:16px;gap:14px}.context-menu-icon{width:24px;font-size:18px}.context-menu-divider{margin:6px 0}}@media(max-width:480px){.context-menu{position:fixed!important;left:12px!important;right:12px!important;bottom:calc(12px + env(safe-area-inset-bottom,0px))!important;top:auto!important;width:auto!important;max-height:70vh;overflow-y:auto;border-radius:16px;animation:slideUpContextMenu .2s ease-out}@keyframes slideUpContextMenu{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.context-menu-item{min-height:52px;padding:14px 20px}}.layout-toolbar{position:fixed;top:80px;left:50%;transform:translate(-50%);display:flex;align-items:center;gap:16px;padding:8px 16px;background:var(--color-bg);border:2px solid var(--color-border);border-radius:12px;box-shadow:0 4px 20px #0000001f;z-index:900;animation:slideDown .2s ease-out}@keyframes slideDown{0%{opacity:0;transform:translate(-50%) translateY(-10px)}to{opacity:1;transform:translate(-50%) translateY(0)}}.layout-toolbar-section{display:flex;align-items:center;gap:8px}.section-label{font-size:11px;font-weight:600;text-transform:uppercase;color:var(--color-text-secondary);letter-spacing:.5px}.layout-buttons{display:flex;align-items:center;gap:2px;background:var(--color-bg-secondary);border-radius:6px;padding:2px}.layout-btn{display:flex;align-items:center;justify-content:center;gap:4px;width:32px;height:32px;background:transparent;border:none;border-radius:4px;color:var(--color-text);cursor:pointer;transition:all .15s ease}.layout-btn:hover:not(:disabled){background:var(--color-bg);color:var(--color-primary)}.layout-btn:disabled{opacity:.4;cursor:not-allowed}.layout-btn.auto-arrange{width:auto;padding:0 10px;gap:6px;font-size:12px;font-weight:500}.layout-btn svg{flex-shrink:0}.separator{width:1px;height:20px;background:var(--color-border);margin:0 4px}@media(max-width:768px){.layout-toolbar{top:70px;padding:6px 12px;gap:10px}.section-label{display:none}.layout-btn{width:36px;height:36px}}@media(max-width:480px){.layout-toolbar{top:auto;bottom:80px;left:50%;transform:translate(-50%);padding:8px 12px;gap:8px;max-width:calc(100vw - 24px);overflow-x:auto}.layout-toolbar-section{gap:4px}.layout-btn{width:40px;height:40px;min-width:40px}.layout-btn.auto-arrange{padding:0 8px;font-size:11px}}.grid-controls{display:flex;align-items:center;gap:6px;background:var(--color-bg-secondary);border-radius:8px;padding:4px 8px 4px 10px}.grid-controls-label{font-size:11px;font-weight:600;text-transform:uppercase;color:var(--color-text-secondary);letter-spacing:.5px;margin-right:2px}.grid-control-btn{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:transparent;border:none;border-radius:6px;color:var(--color-text-secondary);cursor:pointer;transition:all .15s ease;position:relative;z-index:1}.grid-control-btn.has-tooltip:after{content:attr(data-tooltip);position:absolute;left:100%;top:50%;transform:translateY(-50%);padding:6px 10px;background:var(--color-text);color:var(--color-bg);font-size:12px;font-weight:500;white-space:nowrap;border-radius:6px;opacity:0;visibility:hidden;transition:opacity .15s ease,visibility .15s ease;pointer-events:none;margin-left:8px;z-index:10000}.grid-control-btn.has-tooltip:before{content:"";position:absolute;left:100%;top:50%;transform:translateY(-50%);border:6px solid transparent;border-right-color:var(--color-text);opacity:0;visibility:hidden;transition:opacity .15s ease,visibility .15s ease;pointer-events:none;margin-left:-4px;z-index:10000}.grid-control-btn.has-tooltip:hover:after,.grid-control-btn.has-tooltip:hover:before{opacity:1;visibility:visible}.grid-control-btn:hover{background:var(--color-bg);color:var(--color-text);z-index:9999}.grid-control-btn.active{background:var(--color-primary);color:#fff}.grid-control-btn.active:hover{background:var(--color-primary-hover)}.grid-control-btn:focus-visible{outline:2px solid var(--color-primary);outline-offset:2px}.grid-control-btn svg{flex-shrink:0}.grid-size-btn{width:auto;min-width:40px;padding:0 8px;gap:4px}.grid-size-value{font-size:11px;font-weight:600}.grid-size-menu{position:absolute;top:100%;left:50%;transform:translate(-50%);margin-top:8px;background:var(--color-bg);border:1px solid var(--color-border);border-radius:8px;box-shadow:var(--shadow-lg);z-index:200;overflow:hidden;min-width:70px;animation:gridDropdownFadeIn .15s ease-out}@keyframes gridDropdownFadeIn{0%{opacity:0;transform:translate(-50%) translateY(-4px)}to{opacity:1;transform:translate(-50%) translateY(0)}}.grid-size-option{display:block;width:100%;padding:8px 12px;background:transparent;border:none;text-align:center;font-size:13px;font-weight:500;color:var(--color-text-secondary);cursor:pointer;transition:all .15s ease}.grid-size-option:hover{background:var(--color-bg-hover);color:var(--color-text)}.grid-size-option.selected{background:var(--color-primary-light);color:var(--color-primary);font-weight:600}@media(max-width:768px){.grid-controls{padding:3px;gap:1px}.grid-controls-label{display:none}.grid-control-btn{width:36px;height:36px}.grid-size-btn{min-width:44px;padding:0 6px}.grid-size-value{font-size:10px}}@media(max-width:480px){.grid-controls{display:none}}.grid-controls-mobile{position:relative}.mobile-menu-trigger{width:44px;height:44px;display:flex;align-items:center;justify-content:center;background:var(--color-bg-secondary);border:none;border-radius:8px;color:var(--color-text-secondary);cursor:pointer;transition:all .15s ease}.mobile-menu-trigger:hover,.mobile-menu-trigger.active{background:var(--color-primary);color:#fff}.mobile-grid-menu{position:fixed;bottom:calc(70px + env(safe-area-inset-bottom,0px));left:12px;right:12px;background:var(--color-bg);border:1px solid var(--color-border);border-radius:12px;box-shadow:var(--shadow-xl);z-index:1000;animation:slideUpMenu .2s ease-out;overflow:hidden}@keyframes slideUpMenu{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.mobile-menu-header{padding:12px 16px;font-size:12px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--color-text-secondary);background:var(--color-bg-secondary);border-bottom:1px solid var(--color-border-light)}.mobile-menu-item{display:flex;align-items:center;gap:12px;width:100%;padding:14px 16px;background:transparent;border:none;text-align:left;font-size:15px;color:var(--color-text);cursor:pointer;transition:background .15s ease;min-height:48px}.mobile-menu-item:hover{background:var(--color-bg-hover)}.mobile-menu-item.active{background:var(--color-primary-light);color:var(--color-primary)}.mobile-menu-item svg{flex-shrink:0;color:var(--color-text-secondary)}.mobile-menu-item.active svg{color:var(--color-primary)}.mobile-menu-item .checkmark{margin-left:auto;color:var(--color-primary);font-weight:700}.mobile-menu-divider{height:1px;background:var(--color-border-light);margin:4px 0}.mobile-menu-label{padding:10px 16px 6px;font-size:12px;font-weight:600;color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.5px}.mobile-grid-sizes{display:flex;gap:8px;padding:8px 16px 16px}.mobile-size-option{flex:1;padding:10px 12px;background:var(--color-bg-secondary);border:2px solid var(--color-border);border-radius:8px;font-size:14px;font-weight:600;color:var(--color-text-secondary);cursor:pointer;transition:all .15s ease;min-height:44px}.mobile-size-option:hover{background:var(--color-bg-hover);border-color:var(--color-primary-light)}.mobile-size-option.selected{background:var(--color-primary);border-color:var(--color-primary);color:#fff}.mobile-fab-container{position:fixed;bottom:calc(20px + env(safe-area-inset-bottom,0px));right:20px;z-index:500;display:flex;flex-direction:column;align-items:flex-end;gap:12px;transition:opacity .2s ease,transform .2s ease}.mobile-fab-container.hidden{opacity:0;pointer-events:none;transform:scale(.8)}.fab-backdrop{position:fixed;inset:0;background:#0000004d;z-index:-1;animation:fadeIn .15s ease-out}.mobile-fab{display:flex;align-items:center;justify-content:center;width:56px;height:56px;background:var(--color-primary);border:none;border-radius:50%;color:#fff;cursor:pointer;box-shadow:0 4px 12px rgba(var(--color-primary-rgb, 194, 65, 12),.35),0 2px 4px #0000001a;transition:all .2s ease;-webkit-tap-highlight-color:transparent}.mobile-fab:hover{transform:scale(1.05);box-shadow:0 6px 16px rgba(var(--color-primary-rgb, 194, 65, 12),.4),0 3px 6px #0000001f}.mobile-fab:active{transform:scale(.95)}.mobile-fab.active{background:var(--color-text)}.mobile-fab.active .fab-icon{transform:rotate(45deg)}.fab-icon{transition:transform .2s ease}.fab-actions{display:flex;flex-direction:column;align-items:flex-end;gap:10px;opacity:0;pointer-events:none;transform:translateY(20px);transition:all .2s ease}.fab-actions.visible{opacity:1;pointer-events:auto;transform:translateY(0)}.fab-action{display:flex;align-items:center;gap:10px;padding:10px 16px;background:var(--color-bg);border:1px solid var(--color-border);border-radius:var(--radius-full);box-shadow:var(--shadow-lg);cursor:pointer;transition:all .15s ease;-webkit-tap-highlight-color:transparent}.fab-action:hover{background:var(--color-bg-hover);transform:translate(-4px)}.fab-action:active{transform:scale(.97)}.fab-action-icon{font-size:18px;width:24px;text-align:center}.fab-action-label{font-size:14px;font-weight:600;color:var(--color-text);white-space:nowrap}.fab-actions.visible .fab-action:nth-child(1){animation:slideIn .2s ease-out 0s forwards}.fab-actions.visible .fab-action:nth-child(2){animation:slideIn .2s ease-out .05s forwards}.fab-actions.visible .fab-action:nth-child(3){animation:slideIn .2s ease-out .1s forwards}@keyframes slideIn{0%{opacity:0;transform:translateY(10px) translate(10px)}to{opacity:1;transform:translateY(0) translate(0)}}[data-theme=dark] .mobile-fab{box-shadow:0 4px 12px #0006,0 2px 4px #0003}[data-theme=dark] .fab-action{box-shadow:0 4px 12px #0000004d}[data-theme=dark] .fab-backdrop{background:#00000080}@media(prefers-color-scheme:dark){:root:not([data-theme=light]):not([data-theme=dark]) .mobile-fab{box-shadow:0 4px 12px #0006,0 2px 4px #0003}:root:not([data-theme=light]):not([data-theme=dark]) .fab-action{box-shadow:0 4px 12px #0000004d}:root:not([data-theme=light]):not([data-theme=dark]) .fab-backdrop{background:#00000080}}@media(orientation:landscape)and (max-height:500px){.mobile-fab-container{right:calc(16px + env(safe-area-inset-right,0px));bottom:calc(12px + env(safe-area-inset-bottom,0px))}.mobile-fab{width:48px;height:48px}.fab-icon svg{width:20px;height:20px}.fab-actions{gap:8px}.fab-action{padding:8px 12px;gap:8px}.fab-action-icon{font-size:16px;width:20px}.fab-action-label{font-size:13px}.fab-backdrop{top:44px}}.mobile-guest-panel-backdrop{position:fixed;inset:0;background:#0000004d;z-index:600;opacity:0;pointer-events:none;transition:opacity .25s ease}.mobile-guest-panel-backdrop.visible{opacity:1;pointer-events:auto}.mobile-guest-panel{position:fixed;top:0;right:0;bottom:0;width:85%;max-width:360px;background:var(--color-bg);z-index:601;transform:translate(100%);transition:transform .35s var(--ease-ios-sheet);display:flex;flex-direction:column;box-shadow:-4px 0 20px #00000026;will-change:transform}.mobile-guest-panel.open{transform:translate(0)}.mobile-guest-panel.dragging{transition:none!important}.panel-handle{position:absolute;left:-20px;top:50%;transform:translateY(-50%);width:20px;height:60px;display:flex;align-items:center;justify-content:center;background:var(--color-bg);border-radius:8px 0 0 8px;box-shadow:-2px 0 8px #0000001a;cursor:grab;touch-action:none;user-select:none;-webkit-user-select:none}.panel-handle:active{cursor:grabbing}.handle-bar{width:4px;height:30px;background:var(--color-border);border-radius:2px}.panel-header{display:flex;align-items:center;gap:8px;padding:16px;padding-top:calc(16px + env(safe-area-inset-top,0px));border-bottom:1px solid var(--color-border)}.panel-header h2{font-size:18px;font-weight:600;color:var(--color-text);margin:0}.guest-count-badge{padding:2px 8px;background:var(--color-primary-light);color:var(--color-primary);border-radius:var(--radius-full);font-size:12px;font-weight:600}.panel-close{margin-left:auto;display:flex;align-items:center;justify-content:center;width:36px;height:36px;background:transparent;border:none;border-radius:var(--radius-md);color:var(--color-text-secondary);cursor:pointer;transition:background .15s ease}.panel-close:hover{background:var(--color-bg-hover)}.panel-search{display:flex;align-items:center;gap:10px;padding:12px 16px;background:var(--color-bg-secondary);border-bottom:1px solid var(--color-border)}.panel-search .search-icon{color:var(--color-text-secondary);flex-shrink:0}.panel-search input{flex:1;border:none;background:transparent;font-size:15px;color:var(--color-text);outline:none}.panel-search input::placeholder{color:var(--color-text-secondary)}.search-clear{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:var(--color-bg);border:1px solid var(--color-border);border-radius:50%;color:var(--color-text-secondary);font-size:16px;cursor:pointer;line-height:1;padding:0}.search-clear:hover{background:var(--color-bg-hover)}.panel-filters{display:flex;gap:8px;padding:12px 16px;overflow-x:auto;-webkit-overflow-scrolling:touch;border-bottom:1px solid var(--color-border)}.filter-btn{flex-shrink:0;padding:6px 12px;background:var(--color-bg-secondary);border:1px solid var(--color-border);border-radius:var(--radius-full);font-size:13px;font-weight:500;color:var(--color-text-secondary);cursor:pointer;transition:all .15s ease;white-space:nowrap}.filter-btn:hover{background:var(--color-bg-hover)}.filter-btn.active{background:var(--color-primary);border-color:var(--color-primary);color:#fff}.panel-guest-list{flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch;padding-bottom:env(safe-area-inset-bottom,0px)}.panel-empty{padding:40px 16px;text-align:center;color:var(--color-text-secondary);font-size:14px}.guest-section{padding:8px 0}.section-label{padding:8px 16px 4px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--color-text-secondary)}.panel-guest-item{display:flex;align-items:center;gap:12px;padding:10px 16px;cursor:pointer;transition:background .15s ease}.panel-guest-item:hover{background:var(--color-bg-hover)}.panel-guest-item:active{background:var(--color-bg-secondary)}.panel-guest-item.selected{background:var(--color-primary-light)}.guest-avatar{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:600;color:#fff;flex-shrink:0}.guest-info{flex:1;min-width:0;display:flex;flex-direction:column;gap:2px}.guest-name{font-size:15px;font-weight:500;color:var(--color-text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.guest-group{font-size:12px;color:var(--color-text-secondary)}.guest-table{font-size:12px;color:var(--color-primary);font-weight:500}.guest-edit-btn{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:transparent;border:none;border-radius:var(--radius-md);color:var(--color-text-secondary);cursor:pointer;opacity:.6;transition:all .15s ease}.guest-edit-btn:hover{opacity:1;background:var(--color-bg-secondary)}.edge-indicator{position:fixed;top:50%;right:0;transform:translateY(-50%);width:4px;height:40px;background:var(--color-primary);border-radius:4px 0 0 4px;opacity:.5;z-index:100;pointer-events:none}[data-theme=dark] .mobile-guest-panel{box-shadow:-4px 0 20px #0006}[data-theme=dark] .mobile-guest-panel-backdrop.visible{background:#00000080}@media(prefers-color-scheme:dark){:root:not([data-theme=light]):not([data-theme=dark]) .mobile-guest-panel{box-shadow:-4px 0 20px #0006}:root:not([data-theme=light]):not([data-theme=dark]) .mobile-guest-panel-backdrop.visible{background:#00000080}}@media(orientation:landscape)and (max-height:500px){.mobile-guest-panel{top:44px;padding-top:0}.mobile-guest-panel-backdrop{top:44px}.panel-header{padding:10px 16px}.panel-header h2{font-size:16px}.panel-search{padding:8px 16px}.panel-search input{font-size:14px}.panel-filters{padding:8px 16px}.filter-btn{padding:4px 10px;font-size:12px}.panel-guest-item{padding:8px 16px}.guest-avatar{width:32px;height:32px;font-size:12px}.guest-name{font-size:14px}.guest-group,.guest-table{font-size:11px}.edge-indicator{top:calc(50% + 22px)}}.mobile-immersive-canvas{position:relative;width:100%;flex:1;display:flex;flex-direction:column;min-height:0}.landscape-header{position:fixed;top:0;left:0;right:0;display:flex;align-items:center;gap:8px;padding:6px 12px;padding-left:calc(env(safe-area-inset-left,0px) + 12px);padding-right:calc(env(safe-area-inset-right,0px) + 12px);background:var(--color-bg);border-bottom:1px solid var(--color-border-light);z-index:200;height:44px;box-shadow:0 2px 8px #00000014}.landscape-back-btn{width:32px;height:32px;border:none;background:var(--color-bg-secondary);border-radius:var(--radius-md);color:var(--color-text);cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0}.landscape-back-btn:active{transform:scale(.95)}.landscape-event-name{flex:1;font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);color:var(--color-text);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center}.landscape-actions{display:flex;gap:6px;flex-shrink:0}.landscape-action-btn{width:32px;height:32px;border:none;background:var(--color-bg-secondary);border-radius:var(--radius-md);color:var(--color-text);cursor:pointer;display:flex;align-items:center;justify-content:center}.landscape-action-btn:active{transform:scale(.95);background:var(--color-primary-light)}.mobile-immersive-canvas[data-landscape=true]{padding-top:44px}.mobile-immersive-canvas[data-landscape=true] .edge-hint{display:none}@media(orientation:landscape)and (max-height:500px){.bottom-control-sheet{max-height:70vh}.bottom-control-sheet[data-detent=small]{--sheet-height: 35vh}.bottom-control-sheet[data-detent=medium]{--sheet-height: 55vh}.bottom-control-sheet[data-detent=large]{--sheet-height: 70vh}.sheet-section{margin-bottom:8px}.sheet-section h4{font-size:9px;margin-bottom:4px}.sheet-buttons{gap:4px}.sheet-btn{padding:6px 4px;font-size:9px}.sheet-btn .icon{font-size:16px}.sheet-zoom-controls{padding:4px 8px}.sheet-zoom-controls .zoom-btn{width:32px;height:32px;font-size:16px}.sheet-zoom-controls .zoom-value{font-size:12px}.sheet-backdrop{top:44px}}.corner-indicator{position:fixed;bottom:calc(env(safe-area-inset-bottom,0px) + 100px);left:16px;width:32px;height:32px;border:none;background:transparent;cursor:pointer;z-index:100;padding:0;display:flex;align-items:center;justify-content:center}.indicator-dot{display:block;width:14px;height:14px;border-radius:50%;background:var(--color-primary);opacity:.6;animation:pulseDot 2s ease-in-out infinite;box-shadow:0 2px 8px #f9706666}@keyframes pulseDot{0%,to{transform:scale(1);opacity:.4}50%{transform:scale(1.3);opacity:.8}}.mobile-immersive-canvas .edge-hint{position:fixed;pointer-events:none;z-index:50}.mobile-immersive-canvas .edge-hint.top{top:0;left:50%;transform:translate(-50%);width:100px;height:4px;background:linear-gradient(to right,transparent,var(--color-primary),transparent);border-radius:0 0 4px 4px;opacity:.4;animation:pulseHint 2s ease-in-out infinite}.mobile-immersive-canvas .edge-hint.bottom{bottom:0;left:50%;transform:translate(-50%);width:100px;height:4px;background:linear-gradient(to right,transparent,var(--color-primary),transparent);border-radius:4px 4px 0 0;opacity:.4;animation:pulseHint 2s ease-in-out infinite .5s}@keyframes pulseHint{0%,to{opacity:.2}50%{opacity:.5}}.immersive-hint{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:200;animation:hintFadeIn .3s ease-out}.hint-content{background:#000000d9;color:#fff;padding:16px 24px;border-radius:var(--radius-lg);text-align:center;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.hint-content p{margin:4px 0;font-size:var(--font-size-sm)}.hint-content strong{font-size:var(--font-size-base)}@keyframes hintFadeIn{0%{opacity:0;transform:translate(-50%,-50%) scale(.9)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}.landscape-hint{position:fixed;bottom:100px;left:50%;transform:translate(-50%);z-index:200;animation:landscapeHintFadeIn .4s ease-out;cursor:pointer}.landscape-hint-content{display:flex;align-items:center;gap:10px;background:#000000d9;color:#fff;padding:12px 20px;border-radius:var(--radius-full);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);font-size:var(--font-size-sm);white-space:nowrap;box-shadow:0 4px 20px #0000004d}.landscape-hint .rotate-icon{animation:rotateIconPulse 2s ease-in-out infinite}@keyframes landscapeHintFadeIn{0%{opacity:0;transform:translate(-50%) translateY(20px)}to{opacity:1;transform:translate(-50%) translateY(0)}}@keyframes rotateIconPulse{0%,to{transform:rotate(0)}25%{transform:rotate(-15deg)}75%{transform:rotate(15deg)}}.transient-top-bar{position:fixed;top:0;left:0;right:0;display:flex;align-items:center;justify-content:space-between;padding:12px 16px;padding-top:calc(env(safe-area-inset-top,12px) + 12px);background:var(--color-bg);border-bottom:1px solid var(--color-border-light);transform:translateY(-100%);transition:transform .35s var(--ease-ios-sheet);z-index:500;box-shadow:0 4px 12px #0000001a;will-change:transform;touch-action:pan-x;cursor:grab}.transient-top-bar:active{cursor:grabbing}.transient-top-bar.visible{transform:translateY(calc(0px + var(--drag-offset, 0px)))}.transient-top-bar.dragging{transition:none!important}.transient-top-bar .back-btn,.transient-top-bar .menu-btn{width:40px;height:40px;border:none;background:var(--color-bg-secondary);border-radius:var(--radius-md);font-size:18px;color:var(--color-text);cursor:pointer;display:flex;align-items:center;justify-content:center}.transient-top-bar .event-name{flex:1;text-align:center;font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);color:var(--color-text);padding:0 12px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.transient-top-bar .event-name-input{flex:1;text-align:center;font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);color:var(--color-text);background:var(--color-bg-secondary);border:1px solid var(--color-primary);border-radius:var(--radius-sm);padding:8px 12px;outline:none}.sheet-backdrop{position:fixed;inset:0;background:#00000080;z-index:400;animation:fadeIn .2s ease-out}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.bottom-control-sheet{position:fixed;bottom:0;left:0;right:0;background:var(--color-bg);border-radius:20px 20px 0 0;padding-bottom:calc(env(safe-area-inset-bottom,0px) + 16px);z-index:450;height:var(--sheet-height, 50vh);max-height:90vh;transition:height .35s var(--ease-ios-sheet),transform .35s var(--ease-ios-sheet);overflow-y:auto;-webkit-overflow-scrolling:touch;overscroll-behavior:contain;will-change:height,transform;box-shadow:0 -4px 20px #0000001a}.bottom-control-sheet--entering{animation:sheetSlideUp .35s var(--ease-ios-sheet)}@keyframes sheetSlideUp{0%{transform:translateY(100%);opacity:.8}to{transform:translateY(0);opacity:1}}.bottom-control-sheet--dragging{transition:none!important;will-change:transform,height}.bottom-control-sheet[data-detent=small]{--sheet-height: 25vh}.bottom-control-sheet[data-detent=medium]{--sheet-height: 50vh}.bottom-control-sheet[data-detent=large]{--sheet-height: 90vh}.sheet-handle{width:100%;padding:12px 0 8px;cursor:grab;touch-action:none;display:flex;justify-content:center;user-select:none;-webkit-user-select:none}.sheet-handle:active{cursor:grabbing}.sheet-handle-bar{width:40px;height:5px;background:var(--color-border);border-radius:2.5px;transition:background .15s ease,width .15s ease,transform .15s ease}.bottom-control-sheet:hover .sheet-handle-bar,.bottom-control-sheet--dragging .sheet-handle-bar{background:var(--color-border-dark);width:48px}.sheet-handle:active .sheet-handle-bar{transform:scaleY(.8)}.sheet-content{padding:0 12px 8px;overflow-y:auto;flex:1}.sheet-section{margin-bottom:12px}.sheet-section:last-child{margin-bottom:0}.sheet-section h4{font-size:10px;color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.5px;margin-bottom:6px}.sheet-buttons{display:grid;grid-template-columns:repeat(4,1fr);gap:6px}.sheet-btn{display:flex;flex-direction:column;align-items:center;gap:4px;padding:8px 4px;border:1px solid var(--color-border-light);background:var(--color-bg);border-radius:var(--radius-md);font-size:10px;color:var(--color-text-secondary);cursor:pointer;transition:all .2s ease}.sheet-btn:active{transform:scale(.95)}.sheet-btn .icon{font-size:18px;line-height:1}.sheet-btn.active{border-color:var(--color-primary);background:var(--color-primary-light);color:var(--color-primary)}.sheet-zoom-controls{display:flex;align-items:center;gap:6px;background:var(--color-bg-secondary);border-radius:var(--radius-md);padding:6px 10px}.sheet-zoom-controls .zoom-btn{width:36px;height:36px;border:1px solid var(--color-border);background:var(--color-bg);border-radius:var(--radius-md);font-size:18px;font-weight:700;color:var(--color-text);cursor:pointer}.sheet-zoom-controls .zoom-value{flex:1;text-align:center;font-size:13px;font-weight:var(--font-weight-medium);color:var(--color-text)}.sheet-zoom-controls .zoom-btn.reset{font-size:14px}.bottom-control-sheet:after{content:"";position:sticky;bottom:0;left:0;right:0;height:24px;background:linear-gradient(to top,var(--color-bg) 0%,transparent 100%);pointer-events:none;display:block;margin-top:-24px}.canvas-container{display:flex;flex-direction:column;flex:1;min-width:0;background:var(--color-bg-secondary);position:relative}.canvas-toolbar{display:flex;justify-content:space-between;align-items:center;padding:.875rem 1.25rem;background:#fffcfae6;backdrop-filter:blur(8px);border-bottom:1px solid var(--color-border-light);gap:1rem;position:relative;z-index:10}[data-theme=dark] .canvas-toolbar{background:#241c18e6}@media(prefers-color-scheme:dark){:root:not([data-theme=light]):not([data-theme=dark]) .canvas-toolbar{background:#241c18e6}}.toolbar-group{display:flex;align-items:center;gap:.625rem;flex-wrap:wrap}.toolbar-label{font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.05em;padding-right:.25rem}.toolbar-group button{padding:.625rem 1rem;background:var(--color-bg);border:2px solid var(--color-border);border-radius:var(--radius-md);cursor:pointer;font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--color-text);transition:all var(--duration-normal) var(--ease-bounce)}.toolbar-group button:hover{background:var(--color-primary-light);border-color:var(--color-primary);transform:translateY(-1px)}.toolbar-group button:active{transform:translateY(0)}.zoom-display{min-width:60px;text-align:center;font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);color:var(--color-text-secondary);background:var(--color-bg-secondary);padding:.375rem .75rem;border-radius:var(--radius-md)}.canvas{flex:1;position:relative;overflow:hidden;background-color:var(--color-bg-secondary)}.canvas.show-grid{background-image:radial-gradient(circle,var(--color-border) 1.5px,transparent 1.5px);background-size:24px 24px}.canvas:before{content:"";position:absolute;inset:0;background:radial-gradient(ellipse at 30% 20%,rgba(249,112,102,.04) 0%,transparent 50%),radial-gradient(ellipse at 70% 80%,rgba(255,176,136,.05) 0%,transparent 50%);pointer-events:none;z-index:0}.canvas-content{position:absolute;width:100%;height:100%;will-change:transform;z-index:1}.canvas-empty{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:var(--color-text-secondary);animation:fadeIn var(--duration-slow) var(--ease-out);z-index:2}.canvas-empty p:first-child{font-size:var(--font-size-xl);font-weight:var(--font-weight-bold);margin-bottom:.75rem;color:var(--color-text)}.canvas-empty p:last-child{font-size:var(--font-size-base)}.toolbar-divider{padding-left:.75rem;border-left:1px solid var(--color-border);margin-left:.5rem}.toolbar-group button.active{background:var(--color-primary-light);border-color:var(--color-primary);color:var(--color-primary)}.toolbar-icon{font-size:1rem;line-height:1}.grid-size-dropdown{position:relative}.dropdown-menu{position:absolute;top:100%;left:50%;transform:translate(-50%);margin-top:.5rem;background:var(--color-bg);border:1px solid var(--color-border);border-radius:var(--radius-md);box-shadow:var(--shadow-lg);z-index:100;overflow:hidden;min-width:80px}.dropdown-menu button{display:block;width:100%;padding:.5rem 1rem;background:transparent;border:none;text-align:center;cursor:pointer;font-size:var(--font-size-sm);color:var(--color-text-secondary);transition:background var(--duration-fast)}.dropdown-menu button:hover{background:var(--color-bg-hover)}.dropdown-menu button.selected{background:var(--color-primary-light);color:var(--color-primary);font-weight:var(--font-weight-semibold)}.canvas-grid-overlay{position:absolute;inset:0;pointer-events:none;z-index:0;background-image:linear-gradient(to right,var(--color-border-light) 1px,transparent 1px),linear-gradient(to bottom,var(--color-border-light) 1px,transparent 1px);opacity:.6}[data-theme=dark] .canvas-grid-overlay{opacity:.3}@media(prefers-color-scheme:dark){:root:not([data-theme=light]):not([data-theme=dark]) .canvas-grid-overlay{opacity:.3}}.alignment-guide{position:absolute;pointer-events:none;z-index:100}.alignment-guide-horizontal{height:1px;background:var(--color-primary);box-shadow:0 0 4px var(--color-primary)}.alignment-guide-vertical{width:1px;background:var(--color-primary);box-shadow:0 0 4px var(--color-primary)}.alignment-guide:before,.alignment-guide:after{content:"";position:absolute;width:6px;height:6px;background:var(--color-primary);border-radius:50%}.alignment-guide-horizontal:before{left:0;top:50%;transform:translate(-50%,-50%)}.alignment-guide-horizontal:after{right:0;top:50%;transform:translate(50%,-50%)}.alignment-guide-vertical:before{top:0;left:50%;transform:translate(-50%,-50%)}.alignment-guide-vertical:after{bottom:0;left:50%;transform:translate(-50%,50%)}.table-nav-dropdown{position:relative}.table-dropdown-menu{max-height:300px;overflow-y:auto;min-width:180px}.table-nav-item{display:flex!important;justify-content:space-between!important;align-items:center!important;text-align:left!important}.table-nav-name{font-weight:var(--font-weight-medium)}.table-nav-count{font-size:var(--font-size-xs);color:var(--color-text-secondary);background:var(--color-bg-secondary);padding:.125rem .375rem;border-radius:var(--radius-sm)}.table-nav-item.full .table-nav-count{background:var(--color-success-light);color:var(--color-success)}.toolbar-spacer{flex:1}.add-dropdown{position:relative}.add-button{background:linear-gradient(135deg,var(--color-primary) 0%,var(--color-primary-hover) 100%)!important;color:#fff!important;border-color:var(--color-primary)!important;font-weight:var(--font-weight-bold)!important;padding:.625rem 1.25rem!important;text-shadow:0 1px 2px rgba(0,0,0,.2)}.add-button:hover{transform:translateY(-2px)!important;box-shadow:var(--shadow-lg)!important}.add-dropdown-menu{min-width:180px;left:0;transform:none}.add-dropdown-menu button{display:flex!important;align-items:center!important;gap:.75rem!important;text-align:left!important;padding:.75rem 1rem!important}.table-shape-icon{font-size:1rem;width:1.25rem;text-align:center}.zoom-controls{background:var(--color-bg);border-radius:var(--radius-lg);padding:.25rem;border:1px solid var(--color-border-light)}.zoom-controls button{padding:.5rem .75rem!important;border:none!important;background:transparent!important;font-size:var(--font-size-lg)!important;font-weight:var(--font-weight-bold)!important;color:var(--color-text)!important}.zoom-controls button:hover{background:var(--color-bg-hover)!important;transform:none!important;color:var(--color-primary)!important}.zoom-controls .recenter-btn{border-left:1px solid var(--color-border-light)!important;margin-left:.25rem;position:relative}.zoom-controls .has-tooltip:after{content:attr(data-tooltip);position:absolute;left:100%;top:50%;transform:translateY(-50%);padding:6px 10px;background:var(--color-text);color:var(--color-bg);font-size:12px;font-weight:500;white-space:nowrap;border-radius:6px;opacity:0;visibility:hidden;transition:opacity .15s ease,visibility .15s ease;pointer-events:none;margin-left:8px;z-index:10000}.zoom-controls .has-tooltip:before{content:"";position:absolute;left:100%;top:50%;transform:translateY(-50%);border:6px solid transparent;border-right-color:var(--color-text);opacity:0;visibility:hidden;transition:opacity .15s ease,visibility .15s ease;pointer-events:none;margin-left:-4px;z-index:10000}.zoom-controls .has-tooltip:hover:after,.zoom-controls .has-tooltip:hover:before{opacity:1;visibility:visible}.add-guest-button{padding:.625rem 1.25rem;background:linear-gradient(135deg,var(--color-primary) 0%,var(--color-primary-hover) 100%);color:#fff;border:2px solid var(--color-primary);border-radius:var(--radius-md);font-weight:var(--font-weight-bold);font-size:var(--font-size-sm);cursor:pointer;transition:all var(--duration-normal) var(--ease-bounce);text-shadow:0 1px 2px rgba(0,0,0,.2)}.add-guest-button:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}@media(max-width:768px){.canvas-toolbar{padding:.625rem 1rem;gap:.75rem;flex-wrap:wrap}.toolbar-group{gap:.5rem}.toolbar-label{display:none}.toolbar-group button{padding:.5rem .75rem;min-height:40px}.zoom-display{min-width:50px;padding:.25rem .5rem;font-size:var(--font-size-xs)}.zoom-controls button{min-width:40px;min-height:40px}}@media(max-width:480px){.canvas-toolbar{padding:.5rem;justify-content:center;gap:.5rem}.toolbar-group{flex:1;justify-content:center}.toolbar-group button{padding:.625rem;min-width:44px;min-height:44px}.toolbar-divider{display:none}.add-button{padding:.625rem 1rem!important;font-size:var(--font-size-xs)!important}.add-dropdown-menu{position:fixed;left:12px!important;right:12px;top:auto;bottom:70px;width:auto;transform:none}.dropdown-menu{position:fixed;inset:auto auto 70px 50%;transform:translate(-50%)}.canvas-empty p:first-child{font-size:var(--font-size-lg)}.canvas-empty p:last-child{font-size:var(--font-size-sm)}}.relationships-panel{position:absolute;top:56px;right:0;bottom:0;background:var(--color-bg);border-left:1px solid var(--color-border);box-shadow:-4px 0 24px #0000001a;display:flex;flex-direction:column;z-index:250;animation:slideInRight .2s ease-out;width:auto;max-width:90%}@keyframes slideInRight{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.relationships-panel-header{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;border-bottom:1px solid var(--color-border-light);background:var(--color-bg-secondary)}.relationships-panel-header h3{margin:0;font-size:var(--font-size-base);font-weight:var(--font-weight-semibold)}.relationships-panel-header .close-btn{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--color-text-secondary);padding:.25rem;line-height:1;border-radius:var(--radius-sm);transition:all var(--duration-fast)}.relationships-panel-header .close-btn:hover{background:var(--color-bg-hover);color:var(--color-text)}.toolbar-btn.active{background:var(--color-primary);color:#fff;border-color:var(--color-primary)}@media(max-width:768px){.relationships-panel{max-width:100%;width:100%}.relationships-panel-header{padding:.5rem .75rem}.relationships-panel-header h3{font-size:var(--font-size-sm)}}@media(max-width:480px){.relationships-panel{position:fixed;inset:0;z-index:100}}.selection-rectangle{position:absolute;border:2px dashed var(--color-primary);background:#f970661a;pointer-events:none;z-index:50;border-radius:var(--radius-sm);animation:marching-ants .5s linear infinite}@keyframes marching-ants{0%{stroke-dashoffset:0}to{stroke-dashoffset:16}}.selection-rectangle{background-image:linear-gradient(90deg,var(--color-primary) 50%,transparent 50%),linear-gradient(90deg,var(--color-primary) 50%,transparent 50%),linear-gradient(0deg,var(--color-primary) 50%,transparent 50%),linear-gradient(0deg,var(--color-primary) 50%,transparent 50%);background-repeat:repeat-x,repeat-x,repeat-y,repeat-y;background-size:8px 2px,8px 2px,2px 8px,2px 8px;background-position:0 0,0 100%,0 0,100% 0;animation:marching-ants-border .4s linear infinite;border:none;background-color:#f9706614}@keyframes marching-ants-border{0%{background-position:0 0,8px 100%,0 8px,100% 0}to{background-position:8px 0,0 100%,0 0,100% 8px}}
