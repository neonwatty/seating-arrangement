.view-toggle-container{display:flex;align-items:center;gap:.5rem}.view-toggle-switch{display:flex;background:var(--color-bg-secondary);border-radius:var(--radius-md);padding:.25rem}.toggle-option{padding:.5rem 1rem;border:none;background:transparent;border-radius:var(--radius-sm);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--color-text-secondary);cursor:pointer;transition:all var(--duration-fast) var(--ease-out)}.toggle-option:hover{color:var(--color-text)}.toggle-option.active{background:var(--color-bg);color:var(--color-text);box-shadow:var(--shadow-sm)}.toggle-option.relationships{background:var(--color-bg-secondary);border-radius:var(--radius-md);padding:.5rem 1rem}.toggle-option.relationships.active{background:var(--color-primary);color:#fff}@media(max-width:768px){.toggle-option{padding:.5rem .75rem;font-size:var(--font-size-xs)}.toggle-option.relationships{padding:.5rem .75rem}}@media(max-width:480px){.view-toggle-container{gap:.25rem}.view-toggle-switch{padding:.125rem}.toggle-option,.toggle-option.relationships{padding:.5rem;min-height:40px;min-width:40px}}@media(pointer:coarse){.toggle-option{min-height:var(--touch-target-min);min-width:var(--touch-target-min);padding:.625rem 1rem}.toggle-option:hover{color:var(--color-text-secondary)}.toggle-option.active:hover{color:var(--color-text)}.toggle-option:active{transform:scale(.97);transition:transform var(--duration-micro)}}.mobile-toolbar-menu{position:relative}.hamburger-btn{display:flex;align-items:center;justify-content:center;width:44px;height:44px;background:var(--color-bg);border:2px solid var(--color-border);border-radius:var(--radius-md);cursor:pointer;transition:all .15s ease}.hamburger-btn:hover,.hamburger-btn.active{background:var(--color-primary);border-color:var(--color-primary)}.hamburger-btn:hover .hamburger-line,.hamburger-btn.active .hamburger-line{background:#fff}.hamburger-icon{display:flex;flex-direction:column;gap:4px;width:20px}.hamburger-line{display:block;width:100%;height:2px;background:var(--color-text);border-radius:1px;transition:all .15s ease}.hamburger-btn.active .hamburger-line:nth-child(1){transform:translateY(6px) rotate(45deg)}.hamburger-btn.active .hamburger-line:nth-child(2){opacity:0}.hamburger-btn.active .hamburger-line:nth-child(3){transform:translateY(-6px) rotate(-45deg)}.mobile-menu-backdrop{position:fixed;inset:0;background:#0000004d;z-index:998;animation:fadeIn .2s ease-out}.mobile-menu-sheet{position:fixed;bottom:calc(12px + env(safe-area-inset-bottom,0px));left:12px;right:12px;background:var(--color-bg);border:1px solid var(--color-border);border-radius:16px;box-shadow:var(--shadow-xl);z-index:999;animation:slideUpMenu .2s ease-out forwards;overflow-y:auto;max-height:min(60vh,500px)}@keyframes slideUpMenu{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.menu-section{padding:12px 0;border-bottom:1px solid var(--color-border-light)}.menu-section:last-of-type{border-bottom:none}.menu-section-label{padding:0 16px 8px;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--color-text-secondary)}.menu-view-buttons{display:flex;gap:8px;padding:0 16px}.menu-view-btn{flex:1;display:flex;flex-direction:column;align-items:center;gap:6px;padding:12px 16px;background:var(--color-bg-secondary);border:2px solid var(--color-border);border-radius:12px;font-size:13px;font-weight:600;color:var(--color-text-secondary);cursor:pointer;transition:all .15s ease;min-height:44px}.menu-view-btn:hover{background:var(--color-bg-hover);border-color:var(--color-primary-light)}.menu-view-btn.active{background:var(--color-primary-light);border-color:var(--color-primary);color:var(--color-primary)}.menu-view-btn .menu-icon{font-size:18px}.menu-item{display:flex;align-items:center;gap:12px;width:100%;padding:14px 16px;background:transparent;border:none;text-align:left;font-size:15px;font-weight:500;color:var(--color-text);cursor:pointer;transition:background .15s ease;min-height:48px}.menu-item:hover{background:var(--color-bg-hover)}.menu-item:disabled{opacity:.4;cursor:not-allowed}.menu-item:disabled:hover{background:transparent}.menu-item.back{color:var(--color-text-secondary);font-weight:400}.menu-item.toggle.active{background:var(--color-primary-light);color:var(--color-primary)}.menu-icon{width:24px;display:flex;align-items:center;justify-content:center;font-size:16px;flex-shrink:0}.menu-icon svg{color:var(--color-text-secondary)}.menu-item.toggle.active .menu-icon svg{color:var(--color-primary)}.menu-chevron{margin-left:auto;font-size:18px;color:var(--color-text-secondary)}.checkmark{margin-left:auto;color:var(--color-primary);font-weight:700}.menu-footer{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:var(--color-bg-secondary);border-top:1px solid var(--color-border-light)}.event-name{font-size:13px;font-weight:600;color:var(--color-text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:60%}.guest-count{font-size:12px;color:var(--color-text-secondary);padding:4px 10px;background:var(--color-bg);border-radius:var(--radius-full)}.mobile-bottom-nav{position:fixed;bottom:0;left:0;right:0;display:flex;justify-content:space-around;align-items:center;background:var(--color-bg);border-top:1px solid var(--color-border);padding:8px 0;padding-bottom:calc(8px + env(safe-area-inset-bottom,0px));z-index:500;box-shadow:0 -2px 10px #0000001a}.bottom-nav-item{display:flex;flex-direction:column;align-items:center;gap:2px;padding:6px 16px;background:transparent;border:none;color:var(--color-text-secondary);font-size:11px;font-weight:500;cursor:pointer;transition:all .15s ease;min-width:64px}.bottom-nav-item svg{transition:transform .15s ease}.bottom-nav-item:active svg{transform:scale(.9)}.bottom-nav-item.active{color:var(--color-primary)}.bottom-nav-item.add-btn{position:relative}.bottom-nav-item.add-btn svg{background:var(--color-primary);border-radius:50%;padding:6px;color:#fff;box-shadow:0 2px 8px rgba(var(--color-primary-rgb, 194, 65, 12),.3)}.bottom-nav-item.add-btn svg path{fill:#fff}.mobile-menu-sheet{bottom:calc(70px + env(safe-area-inset-bottom,0px))!important}.mobile-menu-sheet.canvas-view{bottom:calc(12px + env(safe-area-inset-bottom,0px))!important}[data-theme=dark] .mobile-menu-backdrop{background:#00000080}[data-theme=dark] .mobile-bottom-nav{box-shadow:0 -2px 10px #0000004d}@media(prefers-color-scheme:dark){:root:not([data-theme=light]):not([data-theme=dark]) .mobile-menu-backdrop{background:#00000080}:root:not([data-theme=light]):not([data-theme=dark]) .mobile-bottom-nav{box-shadow:0 -2px 10px #0000004d}}.menu-zoom-controls{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1rem;background:var(--color-bg-secondary);border-radius:var(--radius-md);margin:.5rem 1rem .75rem}.menu-zoom-btn{display:flex;align-items:center;justify-content:center;width:44px;height:44px;background:var(--color-bg);border:2px solid var(--color-border);border-radius:var(--radius-md);color:var(--color-text);cursor:pointer;transition:all .15s ease}.menu-zoom-btn:hover{border-color:var(--color-primary);color:var(--color-primary)}.menu-zoom-btn:active{transform:scale(.95)}.menu-zoom-btn.reset{width:36px;height:36px;margin-left:.5rem;border-color:transparent;background:transparent;color:var(--color-text-secondary)}.menu-zoom-btn.reset:hover{color:var(--color-primary);background:var(--color-primary-light)}.menu-zoom-value{min-width:50px;text-align:center;font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);color:var(--color-text)}.menu-item.static{cursor:default;color:var(--color-text-secondary)}.menu-item.static:hover{background:transparent}.menu-item-updates{padding:0}.menu-item-updates .mobile-header-menu-item{display:flex;align-items:center;gap:12px;width:100%;padding:14px 16px;background:transparent;border:none;text-align:left;font-size:15px;font-weight:500;color:var(--color-text);cursor:pointer;transition:background .15s ease;min-height:48px}.menu-item-updates .mobile-header-menu-item:hover{background:var(--color-bg-hover)}.menu-item-updates .mobile-header-menu-icon{width:24px;display:flex;align-items:center;justify-content:center;font-size:16px;flex-shrink:0;color:var(--color-text-secondary)}.menu-item.tour-item{align-items:flex-start}.menu-item.tour-item .tour-info{display:flex;flex-direction:column;flex:1;min-width:0}.menu-item.tour-item .tour-title{font-size:15px;font-weight:var(--font-weight-medium);color:var(--color-text)}.menu-item.tour-item .tour-time{font-size:12px;color:var(--color-text-secondary);opacity:.7;margin-top:2px}.menu-item.tour-item.completed{opacity:.7}.menu-section-sublabel{font-size:11px;font-weight:var(--font-weight-semibold);color:var(--color-text-tertiary);text-transform:uppercase;letter-spacing:.05em;padding:12px 16px 4px;margin-top:4px}.mobile-canvas-toolbar{display:flex;align-items:center;gap:8px;padding:8px 12px;padding-top:calc(8px + env(safe-area-inset-top,0px));background:var(--color-bg);border-bottom:1px solid var(--color-border);position:relative;z-index:100}.mobile-canvas-back{display:flex;align-items:center;justify-content:center;width:36px;height:36px;background:transparent;border:none;border-radius:var(--radius-md);color:var(--color-text);cursor:pointer;flex-shrink:0;transition:background .15s ease}.mobile-canvas-back:hover{background:var(--color-bg-hover)}.mobile-canvas-back:active{background:var(--color-bg-secondary)}.mobile-canvas-title{flex:1;min-width:0;display:flex;justify-content:center}.mobile-canvas-name{display:flex;align-items:center;gap:6px;padding:6px 12px;background:transparent;border:1px solid transparent;border-radius:var(--radius-md);font-size:15px;font-weight:600;color:var(--color-text);cursor:pointer;max-width:100%;transition:all .15s ease}.mobile-canvas-name:hover{background:var(--color-bg-hover);border-color:var(--color-border)}.mobile-canvas-name .edit-icon{opacity:.4;flex-shrink:0}.mobile-canvas-name:hover .edit-icon{opacity:.7}.mobile-canvas-name-input{width:100%;max-width:200px;padding:6px 12px;font-size:15px;font-weight:600;text-align:center;background:var(--color-bg);border:2px solid var(--color-primary);border-radius:var(--radius-md);color:var(--color-text);outline:none}.mobile-canvas-controls{display:flex;align-items:center}.mobile-canvas-settings-container{position:relative}.mobile-canvas-settings{display:flex;align-items:center;justify-content:center;width:36px;height:36px;background:transparent;border:none;border-radius:var(--radius-md);color:var(--color-text);cursor:pointer;flex-shrink:0;transition:all .15s ease}.mobile-canvas-settings:hover,.mobile-canvas-settings.active{background:var(--color-bg-hover)}.mobile-canvas-settings.active{color:var(--color-primary)}.mobile-canvas-settings-sheet{position:absolute;top:calc(100% + 8px);right:0;width:220px;background:var(--color-bg);border:1px solid var(--color-border);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);overflow:hidden;z-index:200;animation:slideDown .15s ease-out}@keyframes slideDown{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}.settings-section{padding:8px;border-bottom:1px solid var(--color-border-light)}.settings-section:last-child{border-bottom:none}.settings-label{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--color-text-secondary);padding:0 8px 6px}.settings-zoom-controls{display:flex;align-items:center;justify-content:center;gap:8px;padding:4px}.zoom-btn{display:flex;align-items:center;justify-content:center;width:36px;height:36px;background:var(--color-bg-secondary);border:1px solid var(--color-border);border-radius:var(--radius-md);font-size:18px;font-weight:500;color:var(--color-text);cursor:pointer;transition:all .15s ease}.zoom-btn:hover{border-color:var(--color-primary);color:var(--color-primary)}.zoom-btn:active{transform:scale(.95)}.zoom-btn.reset{width:32px;height:32px;font-size:16px;background:transparent;border-color:transparent;color:var(--color-text-secondary)}.zoom-btn.reset:hover{background:var(--color-bg-hover);color:var(--color-primary)}.zoom-value{min-width:48px;text-align:center;font-size:13px;font-weight:600;color:var(--color-text)}.settings-item{display:flex;align-items:center;gap:10px;width:100%;padding:10px 12px;background:transparent;border:none;border-radius:var(--radius-md);font-size:14px;font-weight:500;color:var(--color-text);cursor:pointer;text-align:left;transition:background .15s ease}.settings-item:hover{background:var(--color-bg-hover)}.settings-item.active{background:var(--color-primary-light);color:var(--color-primary)}.settings-icon{font-size:16px;width:20px;text-align:center;flex-shrink:0}.settings-item .checkmark{margin-left:auto;color:var(--color-primary);font-weight:700}.settings-item.guests-btn{background:var(--color-primary-light)}.settings-item.guests-btn:hover{background:var(--color-primary);color:#fff}.settings-item.guests-btn:hover .guest-count{background:#fff3;color:#fff}.guest-count{margin-left:auto;padding:2px 8px;background:var(--color-bg);border-radius:var(--radius-full);font-size:12px;font-weight:600;color:var(--color-text-secondary)}[data-theme=dark] .mobile-canvas-settings-sheet{box-shadow:0 4px 20px #0006}@media(prefers-color-scheme:dark){:root:not([data-theme=light]):not([data-theme=dark]) .mobile-canvas-settings-sheet{box-shadow:0 4px 20px #0006}}.main-toolbar{display:flex;align-items:center;padding:.75rem 1.25rem;background:#fffcfaf2;backdrop-filter:blur(8px);border-bottom:1px solid var(--color-border-light);gap:1rem;min-height:56px;position:relative;z-index:200}[data-theme=dark] .main-toolbar{background:#241c18f2}@media(prefers-color-scheme:dark){:root:not([data-theme=light]):not([data-theme=dark]) .main-toolbar{background:#241c18f2}}.toolbar-section{display:flex;align-items:center;gap:.625rem}.toolbar-left{flex-shrink:0}.toolbar-middle{flex:1;justify-content:center}.toolbar-right{flex-shrink:0}.toolbar-btn{display:flex;align-items:center;gap:.375rem;padding:.5rem 1rem;background:var(--color-bg);border:2px solid var(--color-border);border-radius:var(--radius-md);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--color-text);cursor:pointer;transition:all var(--duration-normal) var(--ease-bounce)}.btn-icon{font-size:1rem;line-height:1}.btn-text{white-space:nowrap}.toolbar-btn:hover{background:var(--color-primary-light);border-color:var(--color-primary);transform:translateY(-1px)}.toolbar-btn.active{background:var(--color-primary);color:#fff;border-color:var(--color-primary)}.toolbar-btn.active:hover{background:var(--color-primary-hover)}.toolbar-btn.primary{background:linear-gradient(135deg,var(--color-primary) 0%,var(--color-primary-hover) 100%);color:#fff;border-color:var(--color-primary);font-weight:var(--font-weight-bold);text-shadow:0 1px 2px rgba(0,0,0,.2)}.toolbar-btn.primary:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}.toolbar-btn.optimize{background:linear-gradient(135deg,#8b5cf6,#7c3aed);color:#fff;border-color:#7c3aed;font-weight:var(--font-weight-bold)}.toolbar-btn.optimize:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #8b5cf666}.toolbar-btn.optimize:disabled{background:var(--color-bg-secondary);color:var(--color-text-secondary);border-color:var(--color-border);cursor:not-allowed;transform:none}.toolbar-btn.optimize.optimizing{animation:pulse 1s ease-in-out infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.7}}.toolbar-btn.reset{background:linear-gradient(135deg,#64748b,#475569);color:#fff;border-color:#475569;font-weight:var(--font-weight-bold)}.toolbar-btn.reset:hover{transform:translateY(-2px);box-shadow:0 4px 12px #64748b66}.add-dropdown{position:relative}.add-dropdown .dropdown-menu{position:absolute;top:100%;right:0;margin-top:.5rem;background:var(--color-bg);border:1px solid var(--color-border);border-radius:var(--radius-md);box-shadow:var(--shadow-lg);z-index:100;overflow:hidden;min-width:160px}.add-dropdown .dropdown-menu button{display:flex;align-items:center;gap:.75rem;width:100%;padding:.75rem 1rem;background:transparent;border:none;text-align:left;cursor:pointer;font-size:var(--font-size-sm);color:var(--color-text);transition:background var(--duration-fast)}.add-dropdown .dropdown-menu button:hover{background:var(--color-bg-hover)}.table-shape-icon{font-size:1rem;width:1.25rem;text-align:center}.toolbar-middle .search-input{padding:.5rem .875rem;border:2px solid var(--color-border);border-radius:var(--radius-md);font-size:var(--font-size-sm);min-width:200px;background:var(--color-bg)}.toolbar-middle .search-input:focus{border-color:var(--color-primary);outline:none}.toolbar-middle .filter-select{padding:.5rem .75rem;border:2px solid var(--color-border);border-radius:var(--radius-md);font-size:var(--font-size-sm);background:var(--color-bg);color:var(--color-text)}.toolbar-middle .view-mode-toggle{display:flex;background:var(--color-bg-secondary);border-radius:var(--radius-md);padding:.25rem}.toolbar-middle .view-mode-toggle button{padding:.375rem .75rem;border:none;background:transparent;font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--color-text-secondary);border-radius:var(--radius-sm);cursor:pointer;transition:all var(--duration-fast)}.toolbar-middle .view-mode-toggle button:hover{color:var(--color-text)}.toolbar-middle .view-mode-toggle button.active{background:var(--color-bg);color:var(--color-text);box-shadow:var(--shadow-sm)}.zoom-controls{display:flex;align-items:center;background:var(--color-bg);border-radius:var(--radius-lg);padding:.25rem;border:1px solid var(--color-border-light)}.zoom-controls button{padding:.375rem .625rem;border:none;background:transparent;font-size:var(--font-size-lg);font-weight:var(--font-weight-bold);color:var(--color-text);cursor:pointer}.zoom-controls button:hover{background:var(--color-bg-hover);color:var(--color-primary)}.zoom-display{min-width:50px;text-align:center;font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);color:var(--color-text-secondary);padding:0 .5rem}.table-nav-dropdown{position:relative}.table-nav-dropdown .dropdown-menu{position:absolute;top:100%;left:50%;transform:translate(-50%);margin-top:.5rem;background:var(--color-bg);border:1px solid var(--color-border);border-radius:var(--radius-md);box-shadow:var(--shadow-lg);z-index:100;overflow:hidden;min-width:180px;max-height:300px;overflow-y:auto}.table-nav-dropdown .dropdown-menu button{display:flex;justify-content:space-between;align-items:center;width:100%;padding:.625rem 1rem;background:transparent;border:none;text-align:left;cursor:pointer;font-size:var(--font-size-sm);color:var(--color-text);transition:background var(--duration-fast)}.table-nav-dropdown .dropdown-menu button:hover{background:var(--color-bg-hover)}.table-nav-name{font-weight:var(--font-weight-medium)}.table-nav-count{font-size:var(--font-size-xs);color:var(--color-text-secondary);background:var(--color-bg-secondary);padding:.125rem .375rem;border-radius:var(--radius-sm)}.table-nav-item.full .table-nav-count{background:var(--color-success-light);color:var(--color-success)}.guest-count{font-size:var(--font-size-sm);color:var(--color-text-secondary);padding:.25rem .75rem;background:var(--color-bg-secondary);border-radius:var(--radius-full)}@media(max-width:768px){.main-toolbar{padding:.5rem .75rem;flex-wrap:nowrap;gap:.5rem}.toolbar-section{gap:.375rem}.toolbar-middle{flex:1;min-width:0;justify-content:center}.toolbar-middle .search-input{min-width:0;flex:1}.toolbar-btn{min-width:var(--touch-target-min);min-height:var(--touch-target-min);padding:.625rem;justify-content:center}.btn-icon{font-size:1.125rem}.main-toolbar.mobile{display:flex;justify-content:space-between;align-items:center;padding:.5rem .75rem}.main-toolbar.mobile .toolbar-middle.mobile-middle{flex:1;display:flex;justify-content:flex-end;align-items:center}}@media(max-width:480px){.main-toolbar{padding:.375rem .5rem}.toolbar-section{gap:.25rem}.toolbar-btn{min-width:40px;min-height:40px;padding:.5rem;border-radius:var(--radius-sm)}.btn-icon{font-size:1rem}.zoom-controls,.table-nav-dropdown,.guest-count{display:none}}.optimize-toast{position:fixed;bottom:80px;left:50%;transform:translate(-50%);z-index:1000;animation:slideUp .3s ease-out}@keyframes slideUp{0%{opacity:0;transform:translate(-50%) translateY(20px)}to{opacity:1;transform:translate(-50%) translateY(0)}}.toast-content{display:flex;align-items:center;gap:.75rem;padding:.875rem 1.25rem;background:linear-gradient(135deg,#8b5cf6,#7c3aed);color:#fff;border-radius:var(--radius-lg);box-shadow:0 8px 24px #8b5cf666}.toast-icon{font-size:1.25rem}.toast-message{display:flex;flex-direction:column;gap:.125rem}.toast-message strong{font-size:var(--font-size-sm);font-weight:var(--font-weight-bold)}.toast-details{font-size:var(--font-size-xs);opacity:.9}.toast-close{background:#fff3;border:none;color:#fff;width:24px;height:24px;border-radius:50%;cursor:pointer;font-size:1rem;display:flex;align-items:center;justify-content:center;margin-left:.5rem;transition:background var(--duration-fast)}.toast-close:hover{background:#ffffff4d}@media(max-width:480px){.optimize-toast{bottom:calc(90px + env(safe-area-inset-bottom,0));left:12px;right:12px;transform:none}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.toast-content{padding:.75rem 1rem;width:100%;box-sizing:border-box}.toast-icon{font-size:1rem}.toast-message strong{font-size:var(--font-size-xs)}.toast-details{font-size:10px}}.relationship-matrix{display:flex;flex-direction:column;height:100%;overflow:hidden}.matrix-controls{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:var(--color-bg);border-bottom:1px solid var(--color-border-light);flex-wrap:wrap;gap:1rem}.bidirectional-toggle{display:flex;align-items:center;gap:.5rem;font-size:var(--font-size-sm);cursor:pointer}.bidirectional-toggle input{accent-color:var(--color-primary);width:18px;height:18px}.legend{display:flex;gap:1rem;flex-wrap:wrap}.legend-item{display:flex;align-items:center;gap:.375rem;font-size:var(--font-size-xs);color:var(--color-text-secondary)}.legend-color{width:20px;height:20px;border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;font-size:.625rem;font-weight:700;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.3)}.matrix-scroll{flex:1;overflow:auto;padding:1rem}.matrix-grid{display:inline-block;min-width:100%}.matrix-header{display:flex;position:sticky;top:0;background:var(--color-bg);z-index:10}.matrix-corner{width:140px;height:40px;flex-shrink:0;background:var(--color-bg);position:sticky;left:0;z-index:11}.matrix-col-header{width:36px;height:40px;display:flex;align-items:center;justify-content:center;font-size:.625rem;font-weight:700;color:var(--color-text-secondary);border-bottom:2px solid var(--color-border);flex-shrink:0}.matrix-row{display:flex}.matrix-row-header{width:140px;padding:0 .5rem;font-size:.75rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;position:sticky;left:0;background:var(--color-bg);border-right:2px solid var(--color-border);z-index:5;flex-shrink:0;gap:.125rem}.matrix-row-header .row-name{font-weight:var(--font-weight-medium);overflow:hidden;text-overflow:ellipsis;max-width:100%}.matrix-row-header .row-table{font-size:.625rem;color:var(--color-text-secondary);background:var(--color-bg-secondary);padding:.0625rem .25rem;border-radius:var(--radius-sm)}.matrix-cell{width:36px;height:36px;border:1px solid var(--color-border-light);display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:.625rem;font-weight:700;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.3);transition:transform .1s,box-shadow .1s;flex-shrink:0}.matrix-cell:hover:not(.disabled){transform:scale(1.15);z-index:5;box-shadow:0 2px 8px #0003}.matrix-cell.disabled{background:var(--color-bg-secondary)!important;color:var(--color-border);cursor:default}.matrix-cell.selected{outline:3px solid var(--color-primary);z-index:6}.matrix-cell.same-table{background:#8b5cf626!important}.matrix-cell.same-table:not(.disabled):empty:before{content:"Â·";color:#8b5cf666;font-size:1.5rem}.matrix-row.table-boundary{border-top:2px solid var(--color-primary)}.matrix-col-header.table-boundary,.matrix-cell.col-boundary{border-left:2px solid var(--color-primary)}.cell-dropdown-overlay{position:fixed;inset:0;background:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000;animation:fadeIn .15s ease-out}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.cell-dropdown{background:var(--color-bg);border-radius:var(--radius-lg);box-shadow:var(--shadow-xl);padding:1rem;min-width:240px;animation:scaleIn .15s ease-out}@keyframes scaleIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.cell-dropdown h4{margin:0 0 .75rem;font-size:var(--font-size-sm);text-align:center;color:var(--color-text-secondary)}.dropdown-options{display:flex;flex-direction:column;gap:.375rem}.dropdown-option{display:flex;align-items:center;gap:.75rem;width:100%;padding:.625rem .875rem;border:none;border-left:4px solid;background:var(--color-bg);text-align:left;cursor:pointer;font-size:var(--font-size-sm);border-radius:var(--radius-md);transition:background .15s}.dropdown-option:hover{background:var(--color-bg-secondary)}.option-indicator{width:24px;height:24px;border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;font-size:.625rem;font-weight:700;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.3)}.matrix-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;text-align:center;color:var(--color-text-secondary)}.matrix-empty p{margin:.25rem 0}@media(max-width:768px){.matrix-controls{flex-direction:column;align-items:flex-start;padding:.75rem}.legend{gap:.5rem}.legend-item{font-size:10px}.legend-color{width:16px;height:16px;font-size:.5rem}.matrix-scroll{padding:.5rem}.matrix-row-header{width:100px;font-size:.625rem}.matrix-corner{width:100px}.matrix-cell,.matrix-col-header{width:32px;height:32px}.cell-dropdown{min-width:200px;padding:.75rem}.dropdown-option{padding:.5rem .625rem;font-size:var(--font-size-xs)}}@media(max-width:480px){.matrix-controls{padding:.5rem;gap:.5rem}.legend{gap:.375rem}.legend-item{font-size:9px;gap:.25rem}.legend-color{width:14px;height:14px;font-size:8px}.matrix-scroll{padding:.25rem}.matrix-row-header{width:70px;font-size:9px;padding:0 .25rem}.matrix-row-header .row-table{display:none}.matrix-corner{width:70px;height:32px}.matrix-cell,.matrix-col-header{width:26px;height:26px;font-size:8px}.matrix-col-header{font-size:8px}.cell-dropdown{min-width:180px;margin:0 1rem}.cell-dropdown h4{font-size:var(--font-size-xs);margin-bottom:.5rem}.option-indicator{width:20px;height:20px;font-size:8px}}.import-wizard-overlay{z-index:10000}.import-wizard-modal{background:var(--color-bg);border-radius:var(--radius-xl);width:800px;max-width:95vw;max-height:90vh;display:flex;flex-direction:column;animation:modalSlideUp var(--duration-slow) var(--ease-spring);box-shadow:var(--shadow-lg)}.wizard-header{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;border-bottom:1px solid var(--color-border)}.wizard-header h2{margin:0;font-size:1.25rem;font-weight:600}.wizard-progress{display:flex;gap:.5rem;padding:1rem 1.5rem;background:var(--color-bg-secondary);border-bottom:1px solid var(--color-border)}.progress-step{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;border-radius:var(--radius-md);font-size:.875rem;color:var(--color-text-secondary);transition:all var(--duration-fast)}.progress-step.active{background:var(--color-primary);color:#fff}.progress-step.completed{color:var(--color-primary)}.step-number{display:flex;align-items:center;justify-content:center;width:1.5rem;height:1.5rem;border-radius:50%;background:var(--color-border);font-size:.75rem;font-weight:600}.progress-step.active .step-number{background:#fff3}.progress-step.completed .step-number{background:var(--color-primary);color:#fff}.step-title{display:none}@media(min-width:600px){.step-title{display:inline}}.wizard-content{flex:1;overflow-y:auto;padding:1.5rem}.wizard-footer{display:flex;align-items:center;gap:.75rem;padding:1rem 1.5rem;border-top:1px solid var(--color-border)}.footer-spacer{flex:1}.step-description{margin-bottom:1.5rem}.step-description p{margin:0;color:var(--color-text-secondary)}.step-description .hint{font-size:.875rem;margin-top:.5rem}.step-description .platforms-hint{margin-top:.25rem}.step-description .platforms-hint strong{color:var(--color-text)}.step-description .coming-soon-platforms{opacity:.7;font-style:italic}.step-description .warning{display:flex;align-items:center;gap:.5rem;color:var(--color-warning);margin-top:.75rem}.drop-zone{border:2px dashed var(--color-border);border-radius:var(--radius-lg);padding:3rem;text-align:center;transition:all var(--duration-fast);cursor:pointer}.drop-zone:hover,.drop-zone.dragging{border-color:var(--color-primary);background:var(--color-primary-bg)}.drop-zone.error{border-color:var(--color-error)}.drop-zone-content{display:flex;flex-direction:column;align-items:center;gap:1rem}.drop-icon{color:var(--color-text-secondary)}.drop-text{font-size:1.125rem;font-weight:500;margin:0}.drop-or{color:var(--color-text-secondary);margin:0}.file-input-label{cursor:pointer}.file-input{display:none}.file-info{display:flex;align-items:center;gap:1rem;padding:1rem;background:var(--color-bg-secondary);border-radius:var(--radius-lg);border:1px solid var(--color-border)}.file-icon{color:var(--color-primary)}.file-details{flex:1}.file-name{font-weight:600;margin:0 0 .25rem}.file-meta{font-size:.875rem;color:var(--color-text-secondary);margin:0}.event-type-hint{font-size:.875rem;color:var(--color-text-secondary);margin:.5rem 0 0}.platform-hint{font-size:.875rem;color:var(--color-text-secondary);margin:.25rem 0 0}.platform-hint .confidence-indicator{font-size:.75rem;color:var(--color-text-tertiary)}.platform-note{display:flex;align-items:flex-start;gap:.375rem;font-size:.75rem;color:var(--color-warning);margin:.5rem 0 0;padding:.5rem .75rem;background:var(--color-warning-bg, rgba(234, 179, 8, .1));border-radius:var(--radius-sm)}.platform-note svg{flex-shrink:0;margin-top:.125rem}.help-improve-hint{display:flex;align-items:center;gap:.375rem;font-size:.75rem;color:var(--color-text-secondary);margin:.5rem 0 0}.help-improve-hint svg{flex-shrink:0;opacity:.7}.help-improve-link{color:var(--color-primary);text-decoration:none;font-weight:500}.help-improve-link:hover{text-decoration:underline}.clear-file{color:var(--color-text-secondary)}.clear-file:hover{color:var(--color-error)}.error-message{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;background:var(--color-error-bg);color:var(--color-error);border-radius:var(--radius-md);margin-top:1rem;font-size:.875rem}.info-message{display:flex;align-items:flex-start;gap:.5rem;padding:.75rem 1rem;background:var(--color-info-bg, var(--color-primary-bg));color:var(--color-info, var(--color-primary));border-radius:var(--radius-md);margin-top:1rem;font-size:.875rem}.mapping-table{border:1px solid var(--color-border);border-radius:var(--radius-lg);overflow:hidden}.mapping-header{display:grid;grid-template-columns:1fr 1fr 180px;gap:1rem;padding:.75rem 1rem;background:var(--color-bg-secondary);font-weight:600;font-size:.875rem;border-bottom:1px solid var(--color-border)}.mapping-row{display:grid;grid-template-columns:1fr 1fr 180px;gap:1rem;padding:.75rem 1rem;border-bottom:1px solid var(--color-border);align-items:center}.mapping-row:last-child{border-bottom:none}.col-source{display:flex;align-items:center;gap:.5rem}.column-name{font-weight:500}.confidence-badge{font-size:.75rem;padding:.125rem .375rem;border-radius:var(--radius-sm)}.confidence-badge.high{background:var(--color-success-bg);color:var(--color-success)}.confidence-badge.medium{background:var(--color-warning-bg);color:var(--color-warning)}.confidence-badge.low{background:var(--color-bg-secondary);color:var(--color-text-secondary)}.col-sample{display:flex;flex-direction:column;gap:.25rem}.sample-value{font-size:.875rem;color:var(--color-text-secondary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:200px}.sample-value .empty{color:var(--color-text-tertiary)}.col-target select{width:100%}.col-target select.unmapped{color:var(--color-text-secondary)}.preview-stats{display:flex;gap:1.5rem;margin-bottom:1rem}.stat{display:flex;flex-direction:column;align-items:center}.stat-value{font-size:1.5rem;font-weight:700}.stat-label{font-size:.75rem;color:var(--color-text-secondary)}.stat.error .stat-value{color:var(--color-error)}.stat.warning .stat-value{color:var(--color-warning)}.stat.excluded .stat-value{color:var(--color-text-secondary)}.filter-bar{margin-bottom:1rem}.filter-checkbox{display:flex;align-items:center;gap:.5rem;font-size:.875rem;cursor:pointer}.preview-table-container{border:1px solid var(--color-border);border-radius:var(--radius-lg);overflow-x:auto}.preview-table{width:100%;border-collapse:collapse;font-size:.875rem}.preview-table th,.preview-table td{padding:.75rem;text-align:left;border-bottom:1px solid var(--color-border)}.preview-table th{background:var(--color-bg-secondary);font-weight:600}.preview-table tr:last-child td{border-bottom:none}.preview-table tr.excluded{opacity:.5;text-decoration:line-through}.preview-table tr.has-error{background:var(--color-error-bg)}.preview-table tr.has-warning{background:var(--color-warning-bg)}.col-include{width:60px;text-align:center}.col-row{width:50px;color:var(--color-text-secondary)}.col-status{min-width:150px}.issues{display:flex;flex-wrap:wrap;gap:.25rem}.issue-badge{font-size:.75rem;padding:.125rem .5rem;border-radius:var(--radius-sm)}.issue-badge.error{background:var(--color-error-bg);color:var(--color-error)}.issue-badge.warning{background:var(--color-warning-bg);color:var(--color-warning)}.ok-badge{font-size:.75rem;padding:.125rem .5rem;border-radius:var(--radius-sm);background:var(--color-success-bg);color:var(--color-success)}.empty{color:var(--color-text-tertiary);font-style:italic}.pagination{display:flex;align-items:center;justify-content:center;gap:1rem;margin-top:1rem}.page-info{font-size:.875rem;color:var(--color-text-secondary)}.no-duplicates{display:flex;flex-direction:column;align-items:center;padding:3rem;text-align:center}.success-icon{color:var(--color-success);margin-bottom:1rem}.no-duplicates h3{margin:0 0 .5rem}.no-duplicates p{margin:0;color:var(--color-text-secondary)}.bulk-actions{display:flex;align-items:center;gap:.5rem;margin-bottom:1.5rem;flex-wrap:wrap}.bulk-actions span{font-size:.875rem;color:var(--color-text-secondary)}.btn-small{padding:.375rem .75rem;font-size:.75rem;border-radius:var(--radius-sm);background:var(--color-bg-secondary);border:1px solid var(--color-border);cursor:pointer;transition:all var(--duration-fast)}.btn-small:hover{background:var(--color-bg-tertiary)}.duplicates-list{display:flex;flex-direction:column;gap:1rem}.duplicate-card{border:1px solid var(--color-border);border-radius:var(--radius-lg);overflow:hidden}.duplicate-card.skip{opacity:.6}.duplicate-header{padding:.75rem 1rem;background:var(--color-bg-secondary);border-bottom:1px solid var(--color-border)}.match-info{display:flex;align-items:center;gap:1rem}.match-score{font-weight:600;color:var(--color-warning)}.match-reasons{font-size:.875rem;color:var(--color-text-secondary)}.duplicate-comparison{display:grid;grid-template-columns:1fr auto 1fr;gap:1rem;padding:1rem}.guest-card{padding:1rem;border-radius:var(--radius-md);background:var(--color-bg-secondary)}.guest-card h4{margin:0 0 .75rem;font-size:.75rem;text-transform:uppercase;color:var(--color-text-secondary)}.guest-name{font-weight:600;margin:0 0 .5rem}.guest-detail{font-size:.875rem;color:var(--color-text-secondary);margin:.25rem 0}.guest-detail.assigned{color:var(--color-primary)}.vs-divider{display:flex;align-items:center;color:var(--color-text-tertiary);font-size:.875rem}.resolution-actions{display:flex;gap:.5rem;padding:1rem;border-top:1px solid var(--color-border);flex-wrap:wrap}.resolution-option{flex:1;min-width:120px;display:flex;flex-direction:column;align-items:center;gap:.25rem;padding:.75rem;border:2px solid var(--color-border);border-radius:var(--radius-md);cursor:pointer;transition:all var(--duration-fast)}.resolution-option:hover{border-color:var(--color-primary)}.resolution-option.selected{border-color:var(--color-primary);background:var(--color-primary-bg)}.resolution-option input{display:none}.option-label{font-weight:600;font-size:.875rem}.option-desc{font-size:.75rem;color:var(--color-text-secondary);text-align:center}@media(max-width:600px){.import-wizard-modal{max-height:100vh;border-radius:0}.wizard-content{padding:1rem}.mapping-header,.mapping-row{grid-template-columns:1fr;gap:.5rem}.col-sample{display:none}.duplicate-comparison{grid-template-columns:1fr}.vs-divider{justify-content:center;padding:.5rem 0}}.table-assignment-step{display:flex;flex-direction:column;gap:1.5rem}.assignment-stats{display:flex;gap:2rem;padding:1rem;background:var(--color-bg-secondary);border-radius:var(--radius-lg)}.assignment-stats .stat{display:flex;flex-direction:column;align-items:center}.assignment-stats .stat-value{font-size:1.5rem;font-weight:700;color:var(--color-primary)}.assignment-stats .stat-label{font-size:.75rem;color:var(--color-text-secondary)}.assignment-toggle{display:flex;flex-direction:column;gap:.75rem}.toggle-option{display:flex;align-items:flex-start;gap:.75rem;padding:1rem;border:2px solid var(--color-border);border-radius:var(--radius-lg);cursor:pointer;transition:all var(--duration-fast)}.toggle-option:hover{border-color:var(--color-primary-light)}.toggle-option:has(input:checked){border-color:var(--color-primary);background:var(--color-primary-bg)}.toggle-option input{margin-top:.25rem;accent-color:var(--color-primary)}.toggle-content{display:flex;flex-direction:column;gap:.25rem}.toggle-label{font-weight:600}.toggle-desc{font-size:.875rem;color:var(--color-text-secondary)}.config-section{padding:1.25rem;background:var(--color-bg-secondary);border-radius:var(--radius-lg);border:1px solid var(--color-border)}.config-section h4{margin:0 0 1rem;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;color:var(--color-text-secondary)}.config-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem}.config-field{display:flex;flex-direction:column;gap:.5rem}.config-field label{font-size:.875rem;font-weight:500}.config-field select,.config-field input{padding:.5rem .75rem;border:1px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-bg);font-size:.875rem;color:var(--color-text)}.config-field select:focus,.config-field input:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 2px var(--color-primary-bg)}.config-field input[type=number]{width:100%}.input-with-hint{display:flex;flex-direction:column;gap:.25rem}.field-hint{font-size:.75rem;color:var(--color-text-secondary)}.strategy-options{display:flex;flex-direction:column;gap:.5rem}.strategy-option{display:flex;align-items:flex-start;gap:.75rem;padding:.875rem 1rem;border:2px solid var(--color-border);border-radius:var(--radius-md);cursor:pointer;transition:all var(--duration-fast);background:var(--color-bg)}.strategy-option:hover{border-color:var(--color-primary-light)}.strategy-option.selected{border-color:var(--color-primary);background:var(--color-primary-bg)}.strategy-option input{margin-top:.125rem;accent-color:var(--color-primary)}.strategy-content{display:flex;flex-direction:column;gap:.125rem}.strategy-label{font-weight:500}.strategy-desc{font-size:.8125rem;color:var(--color-text-secondary)}.table-assignment-step .warning-message{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;margin-top:.75rem;background:var(--color-warning-bg, #fef3cd);color:var(--color-warning, #856404);border-radius:var(--radius-md);font-size:.875rem}.table-assignment-step .warning-message svg{flex-shrink:0}.assignment-preview{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:.75rem;max-height:280px;overflow-y:auto}.preview-table{padding:.75rem;background:var(--color-bg);border:1px solid var(--color-border);border-radius:var(--radius-md)}.preview-table-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.preview-table-name{font-weight:600;font-size:.875rem}.preview-table-count{font-size:.75rem;color:var(--color-text-secondary);padding:.125rem .5rem;background:var(--color-bg-secondary);border-radius:var(--radius-sm)}.preview-guests{display:flex;flex-wrap:wrap;gap:.25rem}.preview-guest{font-size:.75rem;padding:.125rem .5rem;background:var(--color-bg-secondary);border-radius:var(--radius-sm);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}.preview-more{font-size:.75rem;color:var(--color-text-secondary);padding:.125rem .5rem;font-style:italic}@media(max-width:600px){.config-grid{grid-template-columns:1fr}.assignment-stats{flex-direction:column;gap:1rem;align-items:center}.assignment-preview{grid-template-columns:1fr}}
