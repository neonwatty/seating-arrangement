.group-legend{border-top:1px solid var(--color-border-light);padding-top:.75rem;margin-top:.75rem}.group-legend-header{display:flex;align-items:center;justify-content:space-between;width:100%;padding:.5rem .75rem;background:var(--color-bg-secondary);border:none;border-radius:var(--radius-md);cursor:pointer;transition:background var(--duration-fast) var(--ease-out)}.group-legend-header:hover{background:var(--color-bg-hover)}.group-legend-header:focus-visible{outline:2px solid var(--color-primary);outline-offset:2px}.group-legend-title{font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.05em}.collapse-icon{font-size:.625rem;color:var(--color-text-secondary);transition:transform var(--duration-fast) var(--ease-out)}.collapse-icon.collapsed{transform:rotate(0)}.group-legend-content{padding-top:.5rem;animation:fadeIn var(--duration-fast) var(--ease-out)}@keyframes fadeIn{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}.legend-actions{display:flex;gap:.5rem;margin-bottom:.5rem;padding:0 .25rem}.legend-action-btn{flex:1;padding:.375rem .5rem;background:var(--color-bg);border:1px solid var(--color-border);border-radius:var(--radius-sm);font-size:var(--font-size-xs);font-weight:var(--font-weight-medium);color:var(--color-text-secondary);cursor:pointer;transition:all var(--duration-fast) var(--ease-out)}.legend-action-btn:hover:not(:disabled){background:var(--color-bg-hover);border-color:var(--color-primary);color:var(--color-text)}.legend-action-btn:disabled,.legend-action-btn.disabled{opacity:.5;cursor:not-allowed}.group-legend-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.25rem;max-height:200px;overflow-y:auto}.group-legend-item{margin:0}.legend-item-label{display:flex;align-items:center;gap:.5rem;padding:.375rem .5rem;border-radius:var(--radius-sm);cursor:pointer;transition:background var(--duration-fast) var(--ease-out)}.legend-item-label:hover{background:var(--color-bg-hover)}.legend-item-label.hidden-group{opacity:.5}.legend-item-label input[type=checkbox]{width:14px;height:14px;margin:0;accent-color:var(--color-primary);cursor:pointer}.legend-color{width:14px;height:14px;border-radius:50%;flex-shrink:0;border:1px solid rgba(0,0,0,.1)}.legend-name{flex:1;font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--color-text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}.legend-count{font-size:var(--font-size-xs);color:var(--color-text-secondary);flex-shrink:0}@media(max-width:768px){.group-legend-list{max-height:150px}.legend-item-label{padding:.5rem}}@media(max-width:480px){.group-legend{margin-top:.5rem;padding-top:.5rem}.legend-actions{flex-direction:column;gap:.375rem}.group-legend-list{max-height:120px}}.sidebar{width:420px;background:var(--color-bg);border-right:1px solid var(--color-border-light);display:flex;flex-direction:column;flex-shrink:0;position:relative;z-index:50}[data-theme=dark] .sidebar{background:var(--color-bg)}@media(prefers-color-scheme:dark){:root:not([data-theme=light]):not([data-theme=dark]) .sidebar{background:var(--color-bg)}}.sidebar-header{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid var(--color-border-light)}.sidebar-header h2{margin:0;font-size:var(--font-size-lg);font-weight:var(--font-weight-bold)}.sidebar-toggle{padding:.375rem .75rem;background:var(--color-bg-secondary);border:2px solid var(--color-border);border-radius:var(--radius-md);cursor:pointer;font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);color:var(--color-text);transition:all var(--duration-normal) var(--ease-bounce)}.sidebar-toggle:hover{background:var(--color-primary-light);border-color:var(--color-primary)}.sidebar-toggle-collapsed{position:fixed;left:0;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;align-items:center;gap:8px;padding:16px 12px;border-radius:0 var(--radius-xl) var(--radius-xl) 0;background:var(--color-bg);border:2px solid var(--color-border);border-left:none;z-index:100;box-shadow:var(--shadow-lg);cursor:pointer;transition:all var(--duration-normal) var(--ease-bounce)}.sidebar-toggle-collapsed:hover{background:var(--color-primary-light);border-color:var(--color-primary);transform:translateY(-50%) translate(4px);box-shadow:var(--shadow-xl)}.sidebar-toggle-collapsed .toggle-icon{font-size:var(--font-size-base);color:var(--color-primary)}.sidebar-toggle-collapsed .toggle-label{writing-mode:vertical-rl;text-orientation:mixed;font-weight:var(--font-weight-bold);font-size:var(--font-size-sm);color:var(--color-text)}.sidebar-toggle-collapsed .toggle-count{writing-mode:horizontal-tb;background:linear-gradient(135deg,var(--color-primary) 0%,var(--color-secondary) 100%);color:#fff;font-size:var(--font-size-xs);font-weight:var(--font-weight-bold);width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center}.sidebar-toggle-collapsed .toggle-stats{writing-mode:vertical-rl;text-orientation:mixed;font-size:var(--font-size-xs);color:var(--color-text-secondary);font-weight:var(--font-weight-medium)}.sidebar-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:.75rem;padding:1.25rem;border-bottom:1px solid var(--color-border-light);background:var(--color-bg-secondary)}.stat{display:flex;flex-direction:column;align-items:center;text-align:center;padding:.5rem;border-radius:var(--radius-md);transition:all var(--duration-normal) var(--ease-out)}.stat:hover{background:var(--color-bg);transform:translateY(-2px)}.stat-value{font-size:var(--font-size-xl);font-weight:var(--font-weight-extrabold);line-height:1}.stat-label{font-size:.625rem;color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:var(--letter-spacing-wide);font-weight:var(--font-weight-semibold);margin-top:.25rem}.stat.confirmed .stat-value{color:var(--color-success)}.stat.pending .stat-value{color:var(--color-warning)}.sidebar-controls{padding:1.25rem;display:flex;flex-direction:column;gap:.875rem;border-bottom:1px solid var(--color-border-light)}.search-input{padding:.75rem 1rem;border:2px solid var(--color-border);border-radius:var(--radius-lg);font-size:var(--font-size-sm);background:var(--color-bg);transition:all var(--duration-normal) var(--ease-out)}.search-input:focus{border-color:var(--color-primary);box-shadow:0 0 0 4px var(--focus-ring-color)}.filter-row{display:flex;gap:.75rem}.filter-select{flex:1;padding:.625rem .875rem;border:2px solid var(--color-border);border-radius:var(--radius-md);font-size:var(--font-size-xs);font-weight:var(--font-weight-medium);background:var(--color-bg);cursor:pointer;transition:all var(--duration-fast) var(--ease-out)}.filter-select:hover{border-color:var(--color-primary)}.add-guest-btn{padding:.875rem;background:linear-gradient(135deg,var(--color-primary) 0%,var(--color-primary-hover) 100%);color:#fff;border:none;border-radius:var(--radius-lg);font-weight:var(--font-weight-bold);font-size:var(--font-size-sm);cursor:pointer;transition:all var(--duration-normal) var(--ease-bounce);box-shadow:0 4px 12px #f970664d}.add-guest-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px #f9706666}.add-guest-btn:active{transform:translateY(0)}.guest-lists{flex:1;overflow-y:auto;padding:1.25rem}.guest-list-section{margin-bottom:1.75rem;animation:fadeIn var(--duration-normal) var(--ease-out)}.guest-list-section h3{margin:0 0 .875rem;font-size:var(--font-size-xs);color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:var(--letter-spacing-wide);font-weight:var(--font-weight-bold)}.drag-hint{margin:0 0 .75rem;padding:.5rem .75rem;font-size:var(--font-size-xs);color:var(--color-text-secondary);background:var(--color-primary-light);border-radius:var(--radius-md);border-left:3px solid var(--color-primary)}.guest-list{display:flex;flex-direction:column;gap:.625rem}.guest-list>*{animation:staggerIn var(--duration-normal) var(--ease-out) backwards}.guest-list>*:nth-child(1){animation-delay:.02s}.guest-list>*:nth-child(2){animation-delay:.04s}.guest-list>*:nth-child(3){animation-delay:.06s}.guest-list>*:nth-child(4){animation-delay:.08s}.guest-list>*:nth-child(5){animation-delay:.1s}.guest-list>*:nth-child(6){animation-delay:.12s}.guest-list>*:nth-child(7){animation-delay:.14s}.guest-list>*:nth-child(8){animation-delay:.16s}.empty-message{color:var(--color-text-secondary);font-size:var(--font-size-sm);text-align:center;padding:1.5rem;background:var(--color-bg-secondary);border-radius:var(--radius-lg);border:2px dashed var(--color-border)}.assigned-guest-row{display:flex;align-items:center;gap:.625rem}.assigned-guest-row .guest-chip{flex:1}.table-badge{font-size:.625rem;padding:.375rem .625rem;background:var(--color-primary-light);border-radius:var(--radius-full);color:var(--color-primary);white-space:nowrap;font-weight:var(--font-weight-semibold)}.sidebar-backdrop{display:none}@media(max-width:900px){.sidebar{width:320px}.sidebar-stats{grid-template-columns:repeat(2,1fr);padding:1rem}}@media(max-width:768px){.sidebar-backdrop{display:block;position:fixed;inset:0;background-color:#00000080;z-index:199;animation:fadeInBackdrop var(--duration-normal) var(--ease-out);-webkit-tap-highlight-color:transparent}.sidebar{position:fixed;left:0;top:0;height:100%;width:85%;max-width:320px;z-index:200;transform:translate(-100%);transition:transform var(--duration-normal) var(--ease-spring);box-shadow:var(--shadow-xl)}.sidebar.open{transform:translate(0)}.sidebar-toggle{position:fixed;left:0;top:50%;transform:translateY(-50%);z-index:199;padding:1rem .75rem;min-height:60px;border-radius:0 var(--radius-lg) var(--radius-lg) 0;background:var(--color-bg);box-shadow:var(--shadow-lg);writing-mode:vertical-rl;font-size:var(--font-size-sm)}.sidebar-toggle-collapsed{left:0;padding:1rem .625rem;min-width:44px}.sidebar-toggle-collapsed .toggle-label{font-size:var(--font-size-xs)}.sidebar-header{padding:1rem}.sidebar-controls{padding:1rem;gap:.75rem}.add-guest-btn{min-height:44px}.guest-lists{padding:1rem;padding-bottom:100px}}@media(max-width:480px){.sidebar{width:100%;max-width:none}.sidebar-stats{grid-template-columns:repeat(4,1fr);padding:.75rem;gap:.5rem}.stat{min-height:44px;padding:.625rem .25rem}.stat-value{font-size:var(--font-size-lg)}.stat-label{font-size:.5rem}.filter-select{min-height:44px;padding:.75rem}.search-input{min-height:44px}.guest-chip{min-height:48px;padding:.75rem}.guest-lists{padding-bottom:calc(100px + env(safe-area-inset-bottom,0))}}
